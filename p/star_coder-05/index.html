<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='主題 動態規劃 經典背包模板 0/1 背包 & 無限背包 1 2 3 4 5 6 7 8 9 10 const int N = 100, W = 100000; int cost[N], weight[N], c[W + 1]; void knapsack(int n, int w) { memset(c, 0, sizeof(c)); for (int i = 0; i < n; ++i) for (int j = w; j - weight[i] >= 0; --j) // 0/1 背包 // for (int j = weight[i]; j <= w; ++j) 無限背包 c[j] = max(c[j], c[j - weight[i]] + cost[i]); cout << "最高的價值為" << c[w]; } 有限背包 1 2 3 4 5 6 7 8 9 10 11 12 13 14 const int N = 100, W = 100000; int cost[N], weight[N], number[N], c[W + 1]; void knapsack(int n, int w) { for (int i = 0; i < n; ++i) { int num = min(number[i], w / weight[i]); for (int k = 1; num > 0; k *= 2) { if (k > num) k = num; num -= k; for (int j = w; j >= weight[i] * k; --j) c[j] = max(c[j], c[j - weight[i] * k] + cost[i] * k); } } cout << "最高的價值為" << c[w]; } 經典零錢問題模板 1 2 3 4 5 6 7 8 9 10 11 12 13 14 int price[5] = {5, 2, 6, 11, 17}; bool c[1000+1]; //int c[1000+1]; void change(int m) { memset(c, false, sizeof(c)); c[0] = true; for (int i = 0; i < 5; ++i) for (int j = price[i]; j <= m; ++j) c[j] ||= c[j-price[i]]; // c[j] += c[j-price[i]]; if (c[m]) cout << "湊得到"; else cout << "湊不到"; // cout << "湊得價位" << m; // cout << "湊法總共" << c[m] << "種"; } LIS 模板 DP 1 2 3 4 5 6 7 8 9 10 11 12 const int N = 100; int s[N], length[N]; int LIS() { for (int i=0; i<N; i++) length[i] = 1; for (int i=0; i<N; i++) for (int j=0; j<i; j++) if (s[j] < s[i]) length[i] = max(length[i], length[j] + 1); int l = 0; for (int i=0; i<N; i++) l = max(l, length[i]); return l; } Robinson-Schensted-Knuth Algorithm 時間複雜度 O(NlogL) ， N 是序列長度， L 是 LIS 長度。 1 2 3 4 5 6 7 8 9 10 11 int LIS(vector<int>& s) { if (s.size() == 0) return 0; vector<int> v; v.push_back(s[0]); for (int i=1; i<s.size(); ++i) { int n = s[i]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } return v.size(); } LCS 模板 DP 1 2 3 4 5 6 7 8 9 10 11 12 13 const int N1 = 7, N2 = 5; int s1[N1+1] = {0, 2, 5, 7, 9, 3, 1, 2}; int s2[N2+1] = {0, 3, 5, 3, 2, 8}; int length[N1+1][N2+1]; int LCS() { for (int i=0; i<=N1; i++) length[i][0] = 0; for (int j=0; j<=N2; j++) length[0][j] = 0; for (int i=1; i<=N1; i++) for (int j=1; j<=N2; j++) if (s1[i] == s2[j]) length[i][j] = length[i-1][j-1] + 1; else length[i][j] = max(length[i-1][j], length[i][j-1]); return length[N1][N2]; } Hunt-Szymanski Algorithm LCS 問題，化作 2D LIS 問題，再化作 1D LIS 問題，最後套用 Robinson-Schensted-Knuth Algorithm 。 排序所有數對，使用 Counting Sort 。掃描一遍 s2 ，把每個字元的位置紀錄下來。 較短的序列當作 s1 ，時間複雜度是 O(Klog(min(N,M)) + R) 。 K 是數對數目， N 和 M 是序列長度， R 是數字範圍。 K 至多是 NM ，最差情況下比先前的演算法還慢，平均情況下比先前的演算法快上許多。 R 源自 Counting Sort 。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 int LCS(string &amp;s1, string &amp;s2) { vector<int> p[128]; // 假設字元範圍為 0 ~ 127 for (int i = 0; i < s2.size(); ++i) p[s2[i]].push_back(i); vector<int> v; v.push_back(-1); for (int i = 0; i < s1.size(); ++i) for (int j = p[s1[i]].size() - 1; j >= 0; --j) { int n = p[s1[i]][j]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } return v.size() - 1; } 題目 Virtual Judge 題目列表與提示 題目 題目需求 採用演算法 難度 (for 新手) UVa 10130 給物品價值和重量，給全家人每人最大負重，問全家能搬走的最高總價。 經典背包 易 UVa 357 給定幣值種類，問某一個金額存在幾種表示法。 經典零錢問題 易 UVa 10405 給兩個字串，問最長共同子字串。 裸 LCS 易 UVa 369 求 N 個中取 M 個數的總組合數。 組合數公式 易 UVa 10003 給一根棍子上的切斷點，每次切斷的成本為該段長度，問所有切斷點都切斷的最小成本。 區間 DP 易 UVa 103 給一堆 D 維的盒子，問這些盒子一個裝進一個，最多能裝多少個。 DAG 最短路/LIS 中 UVa 10534 一個 Wavio 序列含 2n+1 個數，前半嚴格遞增，後半嚴格遞減。求一個數列中的最長 Wavio 序列。 O(nlogn) LIS 難 UVa 10949 給兩個長度最多 20000 個字元的字串，求最長共同子字串。 因字串很長，需透過 LCS->LIS 轉換，再用快速 LIS 解決。 難 UVa 10032 給一群人的體重，將他們分成兩群（人數最多差一個），並儘可能最小化兩群的體重和差距。 背包變化+狀態壓縮 \\(難^2\\) UVa 104 給 n 種貨幣彼此間的匯率，找出一種匯率轉換順序能從中套利 1% 以上。 Floyd-Warshall \\(難^2\\) 參考作法 A - SuperSale 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; while(T--) { int n, m, c[35], g, ans = 0; cin >> n; int p[n], w[n]; for(int i = 0; i < n; ++i) cin >> p[i] >> w[i]; cin >> m; for(int i = 0; i < m; ++i) { cin >> g; memset(c, 0x00, sizeof(c)); for(int j = 0; j < n; ++j) { for(int k = g; k - w[j] >= 0; --k) { c[k] = max(c[k], c[k - w[j]] + p[j]); } } ans += c[g]; } cout << ans << endl; } return 0; } B - Let Me Count The Ways 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int p[5] = {50, 25, 10, 5, 1}, n; long long c[30005]; while(cin >> n) { memset(c, 0, sizeof(c)); c[0] = 1; for(int i = 0; i < 5; ++i) { for(int j = p[i]; j <= n; ++j) { c[j] += c[j - p[i]]; } } if(c[n] == 1) cout << "There is only 1 way to produce " << n << " cents change.\\n"; else cout << "There are " << c[n] << " ways to produce " << n << " cents change.\\n"; } return 0; } C - Longest Common Subsequence 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); string s1, s2; while(getline(cin, s1)) { getline(cin, s2); int n1 = s1.length(), n2 = s2.length(); int dp[n1 + 1][n2 + 1]; for(int i = 0; i <= n1; ++i) dp[i][0] = 0; for(int i = 0; i <= n2; ++i) dp[0][i] = 0; for(int i = 0; i < n1; ++i) { for(int j = 0; j < n2; ++j) { if(s1[i] == s2[j]) dp[i + 1][j + 1] = dp[i][j] + 1; else dp[i + 1][j + 1] = max(dp[i][j + 1], dp[i + 1][j]); } } cout << dp[n1][n2] << endl; } return 0; } D - Combinations 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); long long c[105][105] = {0}; for(int i = 1 ; i <= 100 ; ++i) { for(int j = 1 ; j <= i ; ++j) { if(i == j) c[i][j] = 1; else c[i][j] = c[i - 1][j] * i / (i - j); } } int n, m; while(cin >> n >> m && !(n == 0 && m == 0)) cout << n << " things taken " << m << " at a time is " << c[n][m] << " exactly.\\n"; return 0; } E - Cutting Sticks 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int len, n, c[55], dp[55][55]; while(cin >> len && len) { cin >> n; c[0] = 0; c[++n] = len; memset(dp, 0, sizeof(dp)); for(int i = 1; i < n; ++i) cin >> c[i]; for(int w = 2; w <= n; ++w) { for(int l = 0; l < n - 1; ++l) { int r = l + w; if(r > n) break; dp[l][r] = INF; for(int m = l + 1; m < r; ++m) dp[l][r] = min(dp[l][m] + dp[m][r] + c[r] - c[l], dp[l][r]); } } cout << "The minimum cutting is " << dp[0][n] << ".\\n"; } return 0; } F - Stacking Boxes 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 struct Box { int id; vector<int> len; }; bool boxcmp(const Box &amp;a, const Box &amp;b) { int sz = a.len.size(); for(int i = 0; i < sz; ++i) { if(a.len[i] < b.len[i]) return true; if(a.len[i] > b.len[i]) return false; } return true; } bool isContain(const Box &amp;a, const Box &amp;b) { int sz = a.len.size(); for(int i = 0; i < sz; ++i) { if(a.len[i] <= b.len[i]) return false; } return true; } void printBox(const vector<int> &amp;prevNesting, const vector<Box> &amp;box, int lastbox, bool printSpace) { if(lastbox == -1) return; printBox(prevNesting, box, prevNesting[lastbox], true); cout << box[lastbox].id; if(printSpace) cout << " "; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int k, n; while(cin >> k >> n) { vector<Box> box; for(int i = 0; i < k; ++i) { int t; vector<int> tmp; for(int j = 0; j < n; ++j) { cin >> t; tmp.push_back(t); } sort(tmp.begin(), tmp.end()); box.push_back({i + 1, tmp}); } sort(box.begin(), box.end(), boxcmp); vector<int> maxNesting(k, 1), prevNesting(k, -1); int maxLen = 1, lastbox = 0; for(int i = 0; i < k; ++i) { for(int j = 0; j < i; ++j) { if(isContain(box[i], box[j])) { if(maxNesting[j] + 1 > maxNesting[i]) { maxNesting[i] = maxNesting[j] + 1; prevNesting[i] = j; if(maxNesting[i] > maxLen) { maxLen = maxNesting[i]; lastbox = i; } } } } } cout << maxLen << endl; printBox(prevNesting, box, lastbox, false); cout << endl; } return 0; } G - Wavio Sequence 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int n, a[10005], dpI[10005], dpD[10005]; void LIS() { if(n == 0) return; vector<int> v; v.push_back(a[0]); dpI[0] = 1; for(int i = 1; i < n; ++i) { if(a[i] > v.back()) v.push_back(a[i]); else *lower_bound(v.begin(), v.end(), a[i]) = a[i]; dpI[i] = v.size(); } } void LDS() { if(n == 0) return; vector<int> v; v.push_back(a[n - 1]); dpD[n - 1] = 1; for(int i = n - 2; i >= 0; --i) { if(a[i] > v.back()) v.push_back(a[i]); else *lower_bound(v.begin(), v.end(), a[i]) = a[i]; dpD[i] = v.size(); } } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); while(cin >> n) { memset(dpI, 0, sizeof(dpI)); memset(dpD, 0, sizeof(dpD)); for(int i = 0; i < n; ++i) cin >> a[i]; LIS(); LDS(); int ans = 1; for(int i = 0; i < n; ++i) ans = max(min(dpI[i], dpD[i]) * 2 - 1, ans); cout << ans << endl; } return 0; } H - Kids in a Grid 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 string g[30]; int LCS(string &amp;s1, string &amp;s2) { vector<int> p[130]; for(int i = 0; i < s2.size(); ++i) p[s2[i]].push_back(i); vector<int> v; v.push_back(-1); for (int i = 0; i < s1.size(); ++i) { for (int j = p[s1[i]].size() - 1; j >= 0; --j) { int n = p[s1[i]][j]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } } return v.size() - 1; } string getStr() { string s, path; int n, x, y; cin >> n >> x >> y; cin.ignore(100, &#39;\\n&#39;); getline(cin, path); int curX = x - 1, curY = y - 1; s += g[curX][curY]; for(int i = 0; i < n; ++i) { if(path[i] == &#39;N&#39;) --curX; else if(path[i] == &#39;E&#39;) ++curY; else if(path[i] == &#39;S&#39;) ++curX; else if(path[i] == &#39;W&#39;) --curY; s += g[curX][curY]; } return s; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; for(int i = 1; i <= T; ++i) { int row, col; cin >> row >> col; string str1, str2, tmp; for(int j = 0; j < row; ++j) cin >> g[j]; str1 = getStr(); str2 = getStr(); int len, len1 = str1.length(), len2 = str2.length(); if(len1 > len2) len = LCS(str2, str1); else len = LCS(str1, str2); cout << "Case " << i << ": " << len1 - len << " " << len2 - len << endl; } return 0; } I - Tug of War 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int f(vector<int> &amp;w, int sum) { if(w.size() == 1) return 0; sort(w.begin(), w.end()); } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; while(T--) { int n, w[105]; long long dp[22505]; cin >> n; for(int i = 1; i <= n; ++i) cin >> w[i]; long long sum = accumulate(w + 1, w + n + 1, 0LL); memset(dp, 0, sizeof(dp)); dp[0] = 1; for(int i = 1; i <= n; ++i) { for(int j = sum / 2; j >= w[i]; j--) { dp[j] |= (dp[j - w[i]] << 1); } } if(n & 1) { for(int i = sum / 2; i >= 0; --i) { long long flag1 = (1LL << (n / 2)); long long flag2 = (1LL << (n / 2 + 1)); if((dp[i]&amp;flag1) || (dp[i]&amp;flag2)) { cout << i << " " << sum - i << "\\n"; break; } } } else { for(int i = sum / 2; i >= 0; --i) { if(dp[i] & (1LL << (n / 2))) { cout << i << " " << sum - i << "\\n"; break; } } } if(T) cout << endl; } return 0; } J - Arbitrage 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 void printPath(vector<vector<vector<int>>> &amp;paths, int t, int i, int j) { if(t == 0) { cout << i + 1 << " " << j + 1; return; } printPath(paths, t - 1, i, paths[t][i][j]); cout << " " << j + 1; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int n; while(cin >> n) { vector<vector<double>> ct(n, vector<double>(n, 0)); for(int i = 0; i < n; ++i) { for(int j = 0; j < n; ++j) { if(i == j) ct[i][j] = 1; else cin >> ct[i][j]; } } vector<vector<vector<double>>> values(n, vector<vector<double>>(n, vector<double>(n))); vector<vector<vector<int>>> paths(n, vector<vector<int>>(n, vector<int>(n, -1))); values[0] = ct; int item = -1, itemT = -1; for(int t = 1 ; t < n && item == -1 ; ++t) { for(int i = 0 ; i < n && item == -1 ; ++i) { for(int j = 0 ; j < n && item == -1 ; ++j) { values[t][i][j] = -1.0; for(int k = 0 ; k < n ; ++k ) { double newRate = values[t - 1][i][k] * ct[k][j]; if(newRate > values[t][i][j]) { values[t][i][j] = newRate; paths[t][i][j] = k; } } } if(values[t][i][i] > 1.01) { item = i; itemT = t; break; } } } if(item == -1) cout << "no arbitrage sequence exists\\n"; else { printPath(paths, itemT, item, item); cout << endl; } } return 0; } '><title>StarCoder2021暑訓：Week04</title>
<link rel=canonical href=https://blog.smallten.me/p/star_coder-05/><link rel=stylesheet href=/scss/style.min.14c8dd7a5184c7bde0c496d7bd72d867c041f2ea72f238426b3c03c02cceecfd.css><meta property='og:title' content="StarCoder2021暑訓：Week04"><meta property='og:description' content='主題 動態規劃 經典背包模板 0/1 背包 & 無限背包 1 2 3 4 5 6 7 8 9 10 const int N = 100, W = 100000; int cost[N], weight[N], c[W + 1]; void knapsack(int n, int w) { memset(c, 0, sizeof(c)); for (int i = 0; i < n; ++i) for (int j = w; j - weight[i] >= 0; --j) // 0/1 背包 // for (int j = weight[i]; j <= w; ++j) 無限背包 c[j] = max(c[j], c[j - weight[i]] + cost[i]); cout << "最高的價值為" << c[w]; } 有限背包 1 2 3 4 5 6 7 8 9 10 11 12 13 14 const int N = 100, W = 100000; int cost[N], weight[N], number[N], c[W + 1]; void knapsack(int n, int w) { for (int i = 0; i < n; ++i) { int num = min(number[i], w / weight[i]); for (int k = 1; num > 0; k *= 2) { if (k > num) k = num; num -= k; for (int j = w; j >= weight[i] * k; --j) c[j] = max(c[j], c[j - weight[i] * k] + cost[i] * k); } } cout << "最高的價值為" << c[w]; } 經典零錢問題模板 1 2 3 4 5 6 7 8 9 10 11 12 13 14 int price[5] = {5, 2, 6, 11, 17}; bool c[1000+1]; //int c[1000+1]; void change(int m) { memset(c, false, sizeof(c)); c[0] = true; for (int i = 0; i < 5; ++i) for (int j = price[i]; j <= m; ++j) c[j] ||= c[j-price[i]]; // c[j] += c[j-price[i]]; if (c[m]) cout << "湊得到"; else cout << "湊不到"; // cout << "湊得價位" << m; // cout << "湊法總共" << c[m] << "種"; } LIS 模板 DP 1 2 3 4 5 6 7 8 9 10 11 12 const int N = 100; int s[N], length[N]; int LIS() { for (int i=0; i<N; i++) length[i] = 1; for (int i=0; i<N; i++) for (int j=0; j<i; j++) if (s[j] < s[i]) length[i] = max(length[i], length[j] + 1); int l = 0; for (int i=0; i<N; i++) l = max(l, length[i]); return l; } Robinson-Schensted-Knuth Algorithm 時間複雜度 O(NlogL) ， N 是序列長度， L 是 LIS 長度。 1 2 3 4 5 6 7 8 9 10 11 int LIS(vector<int>& s) { if (s.size() == 0) return 0; vector<int> v; v.push_back(s[0]); for (int i=1; i<s.size(); ++i) { int n = s[i]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } return v.size(); } LCS 模板 DP 1 2 3 4 5 6 7 8 9 10 11 12 13 const int N1 = 7, N2 = 5; int s1[N1+1] = {0, 2, 5, 7, 9, 3, 1, 2}; int s2[N2+1] = {0, 3, 5, 3, 2, 8}; int length[N1+1][N2+1]; int LCS() { for (int i=0; i<=N1; i++) length[i][0] = 0; for (int j=0; j<=N2; j++) length[0][j] = 0; for (int i=1; i<=N1; i++) for (int j=1; j<=N2; j++) if (s1[i] == s2[j]) length[i][j] = length[i-1][j-1] + 1; else length[i][j] = max(length[i-1][j], length[i][j-1]); return length[N1][N2]; } Hunt-Szymanski Algorithm LCS 問題，化作 2D LIS 問題，再化作 1D LIS 問題，最後套用 Robinson-Schensted-Knuth Algorithm 。 排序所有數對，使用 Counting Sort 。掃描一遍 s2 ，把每個字元的位置紀錄下來。 較短的序列當作 s1 ，時間複雜度是 O(Klog(min(N,M)) + R) 。 K 是數對數目， N 和 M 是序列長度， R 是數字範圍。 K 至多是 NM ，最差情況下比先前的演算法還慢，平均情況下比先前的演算法快上許多。 R 源自 Counting Sort 。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 int LCS(string &amp;s1, string &amp;s2) { vector<int> p[128]; // 假設字元範圍為 0 ~ 127 for (int i = 0; i < s2.size(); ++i) p[s2[i]].push_back(i); vector<int> v; v.push_back(-1); for (int i = 0; i < s1.size(); ++i) for (int j = p[s1[i]].size() - 1; j >= 0; --j) { int n = p[s1[i]][j]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } return v.size() - 1; } 題目 Virtual Judge 題目列表與提示 題目 題目需求 採用演算法 難度 (for 新手) UVa 10130 給物品價值和重量，給全家人每人最大負重，問全家能搬走的最高總價。 經典背包 易 UVa 357 給定幣值種類，問某一個金額存在幾種表示法。 經典零錢問題 易 UVa 10405 給兩個字串，問最長共同子字串。 裸 LCS 易 UVa 369 求 N 個中取 M 個數的總組合數。 組合數公式 易 UVa 10003 給一根棍子上的切斷點，每次切斷的成本為該段長度，問所有切斷點都切斷的最小成本。 區間 DP 易 UVa 103 給一堆 D 維的盒子，問這些盒子一個裝進一個，最多能裝多少個。 DAG 最短路/LIS 中 UVa 10534 一個 Wavio 序列含 2n+1 個數，前半嚴格遞增，後半嚴格遞減。求一個數列中的最長 Wavio 序列。 O(nlogn) LIS 難 UVa 10949 給兩個長度最多 20000 個字元的字串，求最長共同子字串。 因字串很長，需透過 LCS->LIS 轉換，再用快速 LIS 解決。 難 UVa 10032 給一群人的體重，將他們分成兩群（人數最多差一個），並儘可能最小化兩群的體重和差距。 背包變化+狀態壓縮 \\(難^2\\) UVa 104 給 n 種貨幣彼此間的匯率，找出一種匯率轉換順序能從中套利 1% 以上。 Floyd-Warshall \\(難^2\\) 參考作法 A - SuperSale 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; while(T--) { int n, m, c[35], g, ans = 0; cin >> n; int p[n], w[n]; for(int i = 0; i < n; ++i) cin >> p[i] >> w[i]; cin >> m; for(int i = 0; i < m; ++i) { cin >> g; memset(c, 0x00, sizeof(c)); for(int j = 0; j < n; ++j) { for(int k = g; k - w[j] >= 0; --k) { c[k] = max(c[k], c[k - w[j]] + p[j]); } } ans += c[g]; } cout << ans << endl; } return 0; } B - Let Me Count The Ways 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int p[5] = {50, 25, 10, 5, 1}, n; long long c[30005]; while(cin >> n) { memset(c, 0, sizeof(c)); c[0] = 1; for(int i = 0; i < 5; ++i) { for(int j = p[i]; j <= n; ++j) { c[j] += c[j - p[i]]; } } if(c[n] == 1) cout << "There is only 1 way to produce " << n << " cents change.\\n"; else cout << "There are " << c[n] << " ways to produce " << n << " cents change.\\n"; } return 0; } C - Longest Common Subsequence 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); string s1, s2; while(getline(cin, s1)) { getline(cin, s2); int n1 = s1.length(), n2 = s2.length(); int dp[n1 + 1][n2 + 1]; for(int i = 0; i <= n1; ++i) dp[i][0] = 0; for(int i = 0; i <= n2; ++i) dp[0][i] = 0; for(int i = 0; i < n1; ++i) { for(int j = 0; j < n2; ++j) { if(s1[i] == s2[j]) dp[i + 1][j + 1] = dp[i][j] + 1; else dp[i + 1][j + 1] = max(dp[i][j + 1], dp[i + 1][j]); } } cout << dp[n1][n2] << endl; } return 0; } D - Combinations 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); long long c[105][105] = {0}; for(int i = 1 ; i <= 100 ; ++i) { for(int j = 1 ; j <= i ; ++j) { if(i == j) c[i][j] = 1; else c[i][j] = c[i - 1][j] * i / (i - j); } } int n, m; while(cin >> n >> m && !(n == 0 && m == 0)) cout << n << " things taken " << m << " at a time is " << c[n][m] << " exactly.\\n"; return 0; } E - Cutting Sticks 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int len, n, c[55], dp[55][55]; while(cin >> len && len) { cin >> n; c[0] = 0; c[++n] = len; memset(dp, 0, sizeof(dp)); for(int i = 1; i < n; ++i) cin >> c[i]; for(int w = 2; w <= n; ++w) { for(int l = 0; l < n - 1; ++l) { int r = l + w; if(r > n) break; dp[l][r] = INF; for(int m = l + 1; m < r; ++m) dp[l][r] = min(dp[l][m] + dp[m][r] + c[r] - c[l], dp[l][r]); } } cout << "The minimum cutting is " << dp[0][n] << ".\\n"; } return 0; } F - Stacking Boxes 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 struct Box { int id; vector<int> len; }; bool boxcmp(const Box &amp;a, const Box &amp;b) { int sz = a.len.size(); for(int i = 0; i < sz; ++i) { if(a.len[i] < b.len[i]) return true; if(a.len[i] > b.len[i]) return false; } return true; } bool isContain(const Box &amp;a, const Box &amp;b) { int sz = a.len.size(); for(int i = 0; i < sz; ++i) { if(a.len[i] <= b.len[i]) return false; } return true; } void printBox(const vector<int> &amp;prevNesting, const vector<Box> &amp;box, int lastbox, bool printSpace) { if(lastbox == -1) return; printBox(prevNesting, box, prevNesting[lastbox], true); cout << box[lastbox].id; if(printSpace) cout << " "; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int k, n; while(cin >> k >> n) { vector<Box> box; for(int i = 0; i < k; ++i) { int t; vector<int> tmp; for(int j = 0; j < n; ++j) { cin >> t; tmp.push_back(t); } sort(tmp.begin(), tmp.end()); box.push_back({i + 1, tmp}); } sort(box.begin(), box.end(), boxcmp); vector<int> maxNesting(k, 1), prevNesting(k, -1); int maxLen = 1, lastbox = 0; for(int i = 0; i < k; ++i) { for(int j = 0; j < i; ++j) { if(isContain(box[i], box[j])) { if(maxNesting[j] + 1 > maxNesting[i]) { maxNesting[i] = maxNesting[j] + 1; prevNesting[i] = j; if(maxNesting[i] > maxLen) { maxLen = maxNesting[i]; lastbox = i; } } } } } cout << maxLen << endl; printBox(prevNesting, box, lastbox, false); cout << endl; } return 0; } G - Wavio Sequence 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int n, a[10005], dpI[10005], dpD[10005]; void LIS() { if(n == 0) return; vector<int> v; v.push_back(a[0]); dpI[0] = 1; for(int i = 1; i < n; ++i) { if(a[i] > v.back()) v.push_back(a[i]); else *lower_bound(v.begin(), v.end(), a[i]) = a[i]; dpI[i] = v.size(); } } void LDS() { if(n == 0) return; vector<int> v; v.push_back(a[n - 1]); dpD[n - 1] = 1; for(int i = n - 2; i >= 0; --i) { if(a[i] > v.back()) v.push_back(a[i]); else *lower_bound(v.begin(), v.end(), a[i]) = a[i]; dpD[i] = v.size(); } } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); while(cin >> n) { memset(dpI, 0, sizeof(dpI)); memset(dpD, 0, sizeof(dpD)); for(int i = 0; i < n; ++i) cin >> a[i]; LIS(); LDS(); int ans = 1; for(int i = 0; i < n; ++i) ans = max(min(dpI[i], dpD[i]) * 2 - 1, ans); cout << ans << endl; } return 0; } H - Kids in a Grid 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 string g[30]; int LCS(string &amp;s1, string &amp;s2) { vector<int> p[130]; for(int i = 0; i < s2.size(); ++i) p[s2[i]].push_back(i); vector<int> v; v.push_back(-1); for (int i = 0; i < s1.size(); ++i) { for (int j = p[s1[i]].size() - 1; j >= 0; --j) { int n = p[s1[i]][j]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } } return v.size() - 1; } string getStr() { string s, path; int n, x, y; cin >> n >> x >> y; cin.ignore(100, &#39;\\n&#39;); getline(cin, path); int curX = x - 1, curY = y - 1; s += g[curX][curY]; for(int i = 0; i < n; ++i) { if(path[i] == &#39;N&#39;) --curX; else if(path[i] == &#39;E&#39;) ++curY; else if(path[i] == &#39;S&#39;) ++curX; else if(path[i] == &#39;W&#39;) --curY; s += g[curX][curY]; } return s; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; for(int i = 1; i <= T; ++i) { int row, col; cin >> row >> col; string str1, str2, tmp; for(int j = 0; j < row; ++j) cin >> g[j]; str1 = getStr(); str2 = getStr(); int len, len1 = str1.length(), len2 = str2.length(); if(len1 > len2) len = LCS(str2, str1); else len = LCS(str1, str2); cout << "Case " << i << ": " << len1 - len << " " << len2 - len << endl; } return 0; } I - Tug of War 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int f(vector<int> &amp;w, int sum) { if(w.size() == 1) return 0; sort(w.begin(), w.end()); } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; while(T--) { int n, w[105]; long long dp[22505]; cin >> n; for(int i = 1; i <= n; ++i) cin >> w[i]; long long sum = accumulate(w + 1, w + n + 1, 0LL); memset(dp, 0, sizeof(dp)); dp[0] = 1; for(int i = 1; i <= n; ++i) { for(int j = sum / 2; j >= w[i]; j--) { dp[j] |= (dp[j - w[i]] << 1); } } if(n & 1) { for(int i = sum / 2; i >= 0; --i) { long long flag1 = (1LL << (n / 2)); long long flag2 = (1LL << (n / 2 + 1)); if((dp[i]&amp;flag1) || (dp[i]&amp;flag2)) { cout << i << " " << sum - i << "\\n"; break; } } } else { for(int i = sum / 2; i >= 0; --i) { if(dp[i] & (1LL << (n / 2))) { cout << i << " " << sum - i << "\\n"; break; } } } if(T) cout << endl; } return 0; } J - Arbitrage 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 void printPath(vector<vector<vector<int>>> &amp;paths, int t, int i, int j) { if(t == 0) { cout << i + 1 << " " << j + 1; return; } printPath(paths, t - 1, i, paths[t][i][j]); cout << " " << j + 1; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int n; while(cin >> n) { vector<vector<double>> ct(n, vector<double>(n, 0)); for(int i = 0; i < n; ++i) { for(int j = 0; j < n; ++j) { if(i == j) ct[i][j] = 1; else cin >> ct[i][j]; } } vector<vector<vector<double>>> values(n, vector<vector<double>>(n, vector<double>(n))); vector<vector<vector<int>>> paths(n, vector<vector<int>>(n, vector<int>(n, -1))); values[0] = ct; int item = -1, itemT = -1; for(int t = 1 ; t < n && item == -1 ; ++t) { for(int i = 0 ; i < n && item == -1 ; ++i) { for(int j = 0 ; j < n && item == -1 ; ++j) { values[t][i][j] = -1.0; for(int k = 0 ; k < n ; ++k ) { double newRate = values[t - 1][i][k] * ct[k][j]; if(newRate > values[t][i][j]) { values[t][i][j] = newRate; paths[t][i][j] = k; } } } if(values[t][i][i] > 1.01) { item = i; itemT = t; break; } } } if(item == -1) cout << "no arbitrage sequence exists\\n"; else { printPath(paths, itemT, item, item); cout << endl; } } return 0; } '><meta property='og:url' content='https://blog.smallten.me/p/star_coder-05/'><meta property='og:site_name' content='小十的部落格'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='UVA'><meta property='article:published_time' content='2021-08-06T10:42:11+08:00'><meta property='article:modified_time' content='2021-08-06T10:42:11+08:00'><meta name=twitter:title content="StarCoder2021暑訓：Week04"><meta name=twitter:description content='主題 動態規劃 經典背包模板 0/1 背包 & 無限背包 1 2 3 4 5 6 7 8 9 10 const int N = 100, W = 100000; int cost[N], weight[N], c[W + 1]; void knapsack(int n, int w) { memset(c, 0, sizeof(c)); for (int i = 0; i < n; ++i) for (int j = w; j - weight[i] >= 0; --j) // 0/1 背包 // for (int j = weight[i]; j <= w; ++j) 無限背包 c[j] = max(c[j], c[j - weight[i]] + cost[i]); cout << "最高的價值為" << c[w]; } 有限背包 1 2 3 4 5 6 7 8 9 10 11 12 13 14 const int N = 100, W = 100000; int cost[N], weight[N], number[N], c[W + 1]; void knapsack(int n, int w) { for (int i = 0; i < n; ++i) { int num = min(number[i], w / weight[i]); for (int k = 1; num > 0; k *= 2) { if (k > num) k = num; num -= k; for (int j = w; j >= weight[i] * k; --j) c[j] = max(c[j], c[j - weight[i] * k] + cost[i] * k); } } cout << "最高的價值為" << c[w]; } 經典零錢問題模板 1 2 3 4 5 6 7 8 9 10 11 12 13 14 int price[5] = {5, 2, 6, 11, 17}; bool c[1000+1]; //int c[1000+1]; void change(int m) { memset(c, false, sizeof(c)); c[0] = true; for (int i = 0; i < 5; ++i) for (int j = price[i]; j <= m; ++j) c[j] ||= c[j-price[i]]; // c[j] += c[j-price[i]]; if (c[m]) cout << "湊得到"; else cout << "湊不到"; // cout << "湊得價位" << m; // cout << "湊法總共" << c[m] << "種"; } LIS 模板 DP 1 2 3 4 5 6 7 8 9 10 11 12 const int N = 100; int s[N], length[N]; int LIS() { for (int i=0; i<N; i++) length[i] = 1; for (int i=0; i<N; i++) for (int j=0; j<i; j++) if (s[j] < s[i]) length[i] = max(length[i], length[j] + 1); int l = 0; for (int i=0; i<N; i++) l = max(l, length[i]); return l; } Robinson-Schensted-Knuth Algorithm 時間複雜度 O(NlogL) ， N 是序列長度， L 是 LIS 長度。 1 2 3 4 5 6 7 8 9 10 11 int LIS(vector<int>& s) { if (s.size() == 0) return 0; vector<int> v; v.push_back(s[0]); for (int i=1; i<s.size(); ++i) { int n = s[i]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } return v.size(); } LCS 模板 DP 1 2 3 4 5 6 7 8 9 10 11 12 13 const int N1 = 7, N2 = 5; int s1[N1+1] = {0, 2, 5, 7, 9, 3, 1, 2}; int s2[N2+1] = {0, 3, 5, 3, 2, 8}; int length[N1+1][N2+1]; int LCS() { for (int i=0; i<=N1; i++) length[i][0] = 0; for (int j=0; j<=N2; j++) length[0][j] = 0; for (int i=1; i<=N1; i++) for (int j=1; j<=N2; j++) if (s1[i] == s2[j]) length[i][j] = length[i-1][j-1] + 1; else length[i][j] = max(length[i-1][j], length[i][j-1]); return length[N1][N2]; } Hunt-Szymanski Algorithm LCS 問題，化作 2D LIS 問題，再化作 1D LIS 問題，最後套用 Robinson-Schensted-Knuth Algorithm 。 排序所有數對，使用 Counting Sort 。掃描一遍 s2 ，把每個字元的位置紀錄下來。 較短的序列當作 s1 ，時間複雜度是 O(Klog(min(N,M)) + R) 。 K 是數對數目， N 和 M 是序列長度， R 是數字範圍。 K 至多是 NM ，最差情況下比先前的演算法還慢，平均情況下比先前的演算法快上許多。 R 源自 Counting Sort 。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 int LCS(string &amp;s1, string &amp;s2) { vector<int> p[128]; // 假設字元範圍為 0 ~ 127 for (int i = 0; i < s2.size(); ++i) p[s2[i]].push_back(i); vector<int> v; v.push_back(-1); for (int i = 0; i < s1.size(); ++i) for (int j = p[s1[i]].size() - 1; j >= 0; --j) { int n = p[s1[i]][j]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } return v.size() - 1; } 題目 Virtual Judge 題目列表與提示 題目 題目需求 採用演算法 難度 (for 新手) UVa 10130 給物品價值和重量，給全家人每人最大負重，問全家能搬走的最高總價。 經典背包 易 UVa 357 給定幣值種類，問某一個金額存在幾種表示法。 經典零錢問題 易 UVa 10405 給兩個字串，問最長共同子字串。 裸 LCS 易 UVa 369 求 N 個中取 M 個數的總組合數。 組合數公式 易 UVa 10003 給一根棍子上的切斷點，每次切斷的成本為該段長度，問所有切斷點都切斷的最小成本。 區間 DP 易 UVa 103 給一堆 D 維的盒子，問這些盒子一個裝進一個，最多能裝多少個。 DAG 最短路/LIS 中 UVa 10534 一個 Wavio 序列含 2n+1 個數，前半嚴格遞增，後半嚴格遞減。求一個數列中的最長 Wavio 序列。 O(nlogn) LIS 難 UVa 10949 給兩個長度最多 20000 個字元的字串，求最長共同子字串。 因字串很長，需透過 LCS->LIS 轉換，再用快速 LIS 解決。 難 UVa 10032 給一群人的體重，將他們分成兩群（人數最多差一個），並儘可能最小化兩群的體重和差距。 背包變化+狀態壓縮 \\(難^2\\) UVa 104 給 n 種貨幣彼此間的匯率，找出一種匯率轉換順序能從中套利 1% 以上。 Floyd-Warshall \\(難^2\\) 參考作法 A - SuperSale 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; while(T--) { int n, m, c[35], g, ans = 0; cin >> n; int p[n], w[n]; for(int i = 0; i < n; ++i) cin >> p[i] >> w[i]; cin >> m; for(int i = 0; i < m; ++i) { cin >> g; memset(c, 0x00, sizeof(c)); for(int j = 0; j < n; ++j) { for(int k = g; k - w[j] >= 0; --k) { c[k] = max(c[k], c[k - w[j]] + p[j]); } } ans += c[g]; } cout << ans << endl; } return 0; } B - Let Me Count The Ways 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int p[5] = {50, 25, 10, 5, 1}, n; long long c[30005]; while(cin >> n) { memset(c, 0, sizeof(c)); c[0] = 1; for(int i = 0; i < 5; ++i) { for(int j = p[i]; j <= n; ++j) { c[j] += c[j - p[i]]; } } if(c[n] == 1) cout << "There is only 1 way to produce " << n << " cents change.\\n"; else cout << "There are " << c[n] << " ways to produce " << n << " cents change.\\n"; } return 0; } C - Longest Common Subsequence 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); string s1, s2; while(getline(cin, s1)) { getline(cin, s2); int n1 = s1.length(), n2 = s2.length(); int dp[n1 + 1][n2 + 1]; for(int i = 0; i <= n1; ++i) dp[i][0] = 0; for(int i = 0; i <= n2; ++i) dp[0][i] = 0; for(int i = 0; i < n1; ++i) { for(int j = 0; j < n2; ++j) { if(s1[i] == s2[j]) dp[i + 1][j + 1] = dp[i][j] + 1; else dp[i + 1][j + 1] = max(dp[i][j + 1], dp[i + 1][j]); } } cout << dp[n1][n2] << endl; } return 0; } D - Combinations 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); long long c[105][105] = {0}; for(int i = 1 ; i <= 100 ; ++i) { for(int j = 1 ; j <= i ; ++j) { if(i == j) c[i][j] = 1; else c[i][j] = c[i - 1][j] * i / (i - j); } } int n, m; while(cin >> n >> m && !(n == 0 && m == 0)) cout << n << " things taken " << m << " at a time is " << c[n][m] << " exactly.\\n"; return 0; } E - Cutting Sticks 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int len, n, c[55], dp[55][55]; while(cin >> len && len) { cin >> n; c[0] = 0; c[++n] = len; memset(dp, 0, sizeof(dp)); for(int i = 1; i < n; ++i) cin >> c[i]; for(int w = 2; w <= n; ++w) { for(int l = 0; l < n - 1; ++l) { int r = l + w; if(r > n) break; dp[l][r] = INF; for(int m = l + 1; m < r; ++m) dp[l][r] = min(dp[l][m] + dp[m][r] + c[r] - c[l], dp[l][r]); } } cout << "The minimum cutting is " << dp[0][n] << ".\\n"; } return 0; } F - Stacking Boxes 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 struct Box { int id; vector<int> len; }; bool boxcmp(const Box &amp;a, const Box &amp;b) { int sz = a.len.size(); for(int i = 0; i < sz; ++i) { if(a.len[i] < b.len[i]) return true; if(a.len[i] > b.len[i]) return false; } return true; } bool isContain(const Box &amp;a, const Box &amp;b) { int sz = a.len.size(); for(int i = 0; i < sz; ++i) { if(a.len[i] <= b.len[i]) return false; } return true; } void printBox(const vector<int> &amp;prevNesting, const vector<Box> &amp;box, int lastbox, bool printSpace) { if(lastbox == -1) return; printBox(prevNesting, box, prevNesting[lastbox], true); cout << box[lastbox].id; if(printSpace) cout << " "; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int k, n; while(cin >> k >> n) { vector<Box> box; for(int i = 0; i < k; ++i) { int t; vector<int> tmp; for(int j = 0; j < n; ++j) { cin >> t; tmp.push_back(t); } sort(tmp.begin(), tmp.end()); box.push_back({i + 1, tmp}); } sort(box.begin(), box.end(), boxcmp); vector<int> maxNesting(k, 1), prevNesting(k, -1); int maxLen = 1, lastbox = 0; for(int i = 0; i < k; ++i) { for(int j = 0; j < i; ++j) { if(isContain(box[i], box[j])) { if(maxNesting[j] + 1 > maxNesting[i]) { maxNesting[i] = maxNesting[j] + 1; prevNesting[i] = j; if(maxNesting[i] > maxLen) { maxLen = maxNesting[i]; lastbox = i; } } } } } cout << maxLen << endl; printBox(prevNesting, box, lastbox, false); cout << endl; } return 0; } G - Wavio Sequence 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int n, a[10005], dpI[10005], dpD[10005]; void LIS() { if(n == 0) return; vector<int> v; v.push_back(a[0]); dpI[0] = 1; for(int i = 1; i < n; ++i) { if(a[i] > v.back()) v.push_back(a[i]); else *lower_bound(v.begin(), v.end(), a[i]) = a[i]; dpI[i] = v.size(); } } void LDS() { if(n == 0) return; vector<int> v; v.push_back(a[n - 1]); dpD[n - 1] = 1; for(int i = n - 2; i >= 0; --i) { if(a[i] > v.back()) v.push_back(a[i]); else *lower_bound(v.begin(), v.end(), a[i]) = a[i]; dpD[i] = v.size(); } } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); while(cin >> n) { memset(dpI, 0, sizeof(dpI)); memset(dpD, 0, sizeof(dpD)); for(int i = 0; i < n; ++i) cin >> a[i]; LIS(); LDS(); int ans = 1; for(int i = 0; i < n; ++i) ans = max(min(dpI[i], dpD[i]) * 2 - 1, ans); cout << ans << endl; } return 0; } H - Kids in a Grid 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 string g[30]; int LCS(string &amp;s1, string &amp;s2) { vector<int> p[130]; for(int i = 0; i < s2.size(); ++i) p[s2[i]].push_back(i); vector<int> v; v.push_back(-1); for (int i = 0; i < s1.size(); ++i) { for (int j = p[s1[i]].size() - 1; j >= 0; --j) { int n = p[s1[i]][j]; if (n > v.back()) v.push_back(n); else *lower_bound(v.begin(), v.end(), n) = n; } } return v.size() - 1; } string getStr() { string s, path; int n, x, y; cin >> n >> x >> y; cin.ignore(100, &#39;\\n&#39;); getline(cin, path); int curX = x - 1, curY = y - 1; s += g[curX][curY]; for(int i = 0; i < n; ++i) { if(path[i] == &#39;N&#39;) --curX; else if(path[i] == &#39;E&#39;) ++curY; else if(path[i] == &#39;S&#39;) ++curX; else if(path[i] == &#39;W&#39;) --curY; s += g[curX][curY]; } return s; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; for(int i = 1; i <= T; ++i) { int row, col; cin >> row >> col; string str1, str2, tmp; for(int j = 0; j < row; ++j) cin >> g[j]; str1 = getStr(); str2 = getStr(); int len, len1 = str1.length(), len2 = str2.length(); if(len1 > len2) len = LCS(str2, str1); else len = LCS(str1, str2); cout << "Case " << i << ": " << len1 - len << " " << len2 - len << endl; } return 0; } I - Tug of War 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 int f(vector<int> &amp;w, int sum) { if(w.size() == 1) return 0; sort(w.begin(), w.end()); } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int T; cin >> T; while(T--) { int n, w[105]; long long dp[22505]; cin >> n; for(int i = 1; i <= n; ++i) cin >> w[i]; long long sum = accumulate(w + 1, w + n + 1, 0LL); memset(dp, 0, sizeof(dp)); dp[0] = 1; for(int i = 1; i <= n; ++i) { for(int j = sum / 2; j >= w[i]; j--) { dp[j] |= (dp[j - w[i]] << 1); } } if(n & 1) { for(int i = sum / 2; i >= 0; --i) { long long flag1 = (1LL << (n / 2)); long long flag2 = (1LL << (n / 2 + 1)); if((dp[i]&amp;flag1) || (dp[i]&amp;flag2)) { cout << i << " " << sum - i << "\\n"; break; } } } else { for(int i = sum / 2; i >= 0; --i) { if(dp[i] & (1LL << (n / 2))) { cout << i << " " << sum - i << "\\n"; break; } } } if(T) cout << endl; } return 0; } J - Arbitrage 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 #include <bits/stdc++.h> using namespace std; #define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0) #define INF 0x3f3f3f3f #define NINF 0xc0c0c0c0 void printPath(vector<vector<vector<int>>> &amp;paths, int t, int i, int j) { if(t == 0) { cout << i + 1 << " " << j + 1; return; } printPath(paths, t - 1, i, paths[t][i][j]); cout << " " << j + 1; } int main() { #ifndef ONLINE_JUDGE freopen("output.txt", "w", stdout); freopen("input.txt", "r", stdin); #endif USE_CPPIO(); int n; while(cin >> n) { vector<vector<double>> ct(n, vector<double>(n, 0)); for(int i = 0; i < n; ++i) { for(int j = 0; j < n; ++j) { if(i == j) ct[i][j] = 1; else cin >> ct[i][j]; } } vector<vector<vector<double>>> values(n, vector<vector<double>>(n, vector<double>(n))); vector<vector<vector<int>>> paths(n, vector<vector<int>>(n, vector<int>(n, -1))); values[0] = ct; int item = -1, itemT = -1; for(int t = 1 ; t < n && item == -1 ; ++t) { for(int i = 0 ; i < n && item == -1 ; ++i) { for(int j = 0 ; j < n && item == -1 ; ++j) { values[t][i][j] = -1.0; for(int k = 0 ; k < n ; ++k ) { double newRate = values[t - 1][i][k] * ct[k][j]; if(newRate > values[t][i][j]) { values[t][i][j] = newRate; paths[t][i][j] = k; } } } if(values[t][i][i] > 1.01) { item = i; itemT = t; break; } } } if(item == -1) cout << "no arbitrage sequence exists\\n"; else { printPath(paths, itemT, item, item); cout << endl; } } return 0; } '><link rel="shortcut icon" href=/image/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-9L51K4B2CR"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9L51K4B2CR")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu11372239997511506855.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>小十的部落格</a></h1><h2 class=site-description>教學、資訊分享、生活記趣</h2></div></header><ol class=menu-social><li><a href=https://github.com/Adam7066 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/archives><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#主題>主題</a><ul><li><a href=#經典背包模板>經典背包模板</a><ul><li><a href=#01-背包--無限背包>0/1 背包 & 無限背包</a></li><li><a href=#有限背包>有限背包</a></li></ul></li><li><a href=#經典零錢問題模板>經典零錢問題模板</a></li><li><a href=#lis-模板>LIS 模板</a><ul><li><a href=#dp>DP</a></li><li><a href=#robinson-schensted-knuth-algorithm>Robinson-Schensted-Knuth Algorithm</a></li></ul></li><li><a href=#lcs-模板>LCS 模板</a><ul><li><a href=#dp-1>DP</a></li><li><a href=#hunt-szymanski-algorithm>Hunt-Szymanski Algorithm</a></li></ul></li></ul></li><li><a href=#題目>題目</a></li><li><a href=#參考作法>參考作法</a><ul><li><a href=#a---supersale>A - SuperSale</a></li><li><a href=#b---let-me-count-the-ways>B - Let Me Count The Ways</a></li><li><a href=#c---longest-common-subsequence>C - Longest Common Subsequence</a></li><li><a href=#d---combinations>D - Combinations</a></li><li><a href=#e---cutting-sticks>E - Cutting Sticks</a></li><li><a href=#f---stacking-boxes>F - Stacking Boxes</a></li><li><a href=#g---wavio-sequence>G - Wavio Sequence</a></li><li><a href=#h---kids-in-a-grid>H - Kids in a Grid</a></li><li><a href=#i---tug-of-war>I - Tug of War</a></li><li><a href=#j---arbitrage>J - Arbitrage</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/starcoder/>StarCoder</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/star_coder-05/>StarCoder2021暑訓：Week04</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 06, 2021</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>14 minute read</time></div></footer></div></header><section class=article-content><h1 id=主題><a href=#%e4%b8%bb%e9%a1%8c class=header-anchor></a>主題</h1><ul><li>動態規劃</li></ul><h2 id=經典背包模板><a href=#%e7%b6%93%e5%85%b8%e8%83%8c%e5%8c%85%e6%a8%a1%e6%9d%bf class=header-anchor></a>經典背包模板</h2><h3 id=01-背包--無限背包><a href=#01-%e8%83%8c%e5%8c%85--%e7%84%a1%e9%99%90%e8%83%8c%e5%8c%85 class=header-anchor></a>0/1 背包 & 無限背包</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>N</span> <span class=o>=</span> <span class=mi>100</span><span class=p>,</span> <span class=n>W</span> <span class=o>=</span> <span class=mi>100000</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>cost</span><span class=p>[</span><span class=n>N</span><span class=p>],</span> <span class=n>weight</span><span class=p>[</span><span class=n>N</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>W</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>knapsack</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>w</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>memset</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>c</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>w</span><span class=p>;</span> <span class=n>j</span> <span class=o>-</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>j</span><span class=p>)</span> <span class=c1>// 0/1 背包
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// for (int j = weight[i]; j &lt;= w; ++j) 無限背包
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>c</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>c</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span><span class=p>]]</span> <span class=o>+</span> <span class=n>cost</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;最高的價值為&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>[</span><span class=n>w</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=有限背包><a href=#%e6%9c%89%e9%99%90%e8%83%8c%e5%8c%85 class=header-anchor></a>有限背包</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>N</span> <span class=o>=</span> <span class=mi>100</span><span class=p>,</span> <span class=n>W</span> <span class=o>=</span> <span class=mi>100000</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>cost</span><span class=p>[</span><span class=n>N</span><span class=p>],</span> <span class=n>weight</span><span class=p>[</span><span class=n>N</span><span class=p>],</span> <span class=n>number</span><span class=p>[</span><span class=n>N</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>W</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>knapsack</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>w</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>num</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>number</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>w</span> <span class=o>/</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>num</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>*=</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>k</span> <span class=o>&gt;</span> <span class=n>num</span><span class=p>)</span> <span class=n>k</span> <span class=o>=</span> <span class=n>num</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>num</span> <span class=o>-=</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>w</span><span class=p>;</span> <span class=n>j</span> <span class=o>&gt;=</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>*</span> <span class=n>k</span><span class=p>;</span> <span class=o>--</span><span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>c</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=n>weight</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>*</span> <span class=n>k</span><span class=p>]</span> <span class=o>+</span> <span class=n>cost</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>*</span> <span class=n>k</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;最高的價值為&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>[</span><span class=n>w</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=經典零錢問題模板><a href=#%e7%b6%93%e5%85%b8%e9%9b%b6%e9%8c%a2%e5%95%8f%e9%a1%8c%e6%a8%a1%e6%9d%bf class=header-anchor></a>經典零錢問題模板</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=n>price</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>17</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=n>c</span><span class=p>[</span><span class=mi>1000</span><span class=o>+</span><span class=mi>1</span><span class=p>];</span> <span class=c1>//int c[1000+1];
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>change</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>memset</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=nb>false</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>c</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>price</span><span class=p>[</span><span class=n>i</span><span class=p>];</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>c</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>||=</span> <span class=n>c</span><span class=p>[</span><span class=n>j</span><span class=o>-</span><span class=n>price</span><span class=p>[</span><span class=n>i</span><span class=p>]];</span>
</span></span><span class=line><span class=cl>            <span class=c1>// c[j] += c[j-price[i]];
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=n>c</span><span class=p>[</span><span class=n>m</span><span class=p>])</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;湊得到&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;湊不到&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// cout &lt;&lt; &#34;湊得價位&#34; &lt;&lt; m;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// cout &lt;&lt; &#34;湊法總共&#34; &lt;&lt; c[m] &lt;&lt; &#34;種&#34;;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=lis-模板><a href=#lis-%e6%a8%a1%e6%9d%bf class=header-anchor></a>LIS 模板</h2><h3 id=dp><a href=#dp class=header-anchor></a>DP</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>N</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>s</span><span class=p>[</span><span class=n>N</span><span class=p>],</span> <span class=n>length</span><span class=p>[</span><span class=n>N</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>LIS</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>j</span><span class=o>&lt;</span><span class=n>i</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>length</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=n>l</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=robinson-schensted-knuth-algorithm><a href=#robinson-schensted-knuth-algorithm class=header-anchor></a>Robinson-Schensted-Knuth Algorithm</h3><ul><li>時間複雜度 O(NlogL) ， N 是序列長度， L 是 LIS 長度。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=nf>LIS</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>s</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>s</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>.</span><span class=n>back</span><span class=p>())</span> <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=o>*</span><span class=n>lower_bound</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>n</span><span class=p>)</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=lcs-模板><a href=#lcs-%e6%a8%a1%e6%9d%bf class=header-anchor></a>LCS 模板</h2><h3 id=dp-1><a href=#dp-1 class=header-anchor></a>DP</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>N1</span> <span class=o>=</span> <span class=mi>7</span><span class=p>,</span> <span class=n>N2</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>s1</span><span class=p>[</span><span class=n>N1</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>s2</span><span class=p>[</span><span class=n>N2</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>length</span><span class=p>[</span><span class=n>N1</span><span class=o>+</span><span class=mi>1</span><span class=p>][</span><span class=n>N2</span><span class=o>+</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>LCS</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;=</span><span class=n>N1</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>j</span><span class=o>&lt;=</span><span class=n>N2</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=n>length</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;=</span><span class=n>N1</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span> <span class=n>j</span><span class=o>&lt;=</span><span class=n>N2</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>s1</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>s2</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=n>j</span><span class=p>],</span> <span class=n>length</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>length</span><span class=p>[</span><span class=n>N1</span><span class=p>][</span><span class=n>N2</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=hunt-szymanski-algorithm><a href=#hunt-szymanski-algorithm class=header-anchor></a>Hunt-Szymanski Algorithm</h3><ul><li>LCS 問題，化作 2D LIS 問題，再化作 1D LIS 問題，最後套用 Robinson-Schensted-Knuth Algorithm 。</li><li>排序所有數對，使用 Counting Sort 。掃描一遍 s2 ，把每個字元的位置紀錄下來。</li><li>較短的序列當作 s1 ，時間複雜度是 O(Klog(min(N,M)) + R) 。 K 是數對數目， N 和 M 是序列長度， R 是數字範圍。</li><li>K 至多是 NM ，最差情況下比先前的演算法還慢，平均情況下比先前的演算法快上許多。 R 源自 Counting Sort 。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=nf>LCS</span><span class=p>(</span><span class=n>string</span> <span class=o>&amp;</span><span class=n>s1</span><span class=p>,</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>s2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>p</span><span class=p>[</span><span class=mi>128</span><span class=p>];</span> <span class=c1>// 假設字元範圍為 0 ~ 127
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s2</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>p</span><span class=p>[</span><span class=n>s2</span><span class=p>[</span><span class=n>i</span><span class=p>]].</span><span class=n>push_back</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s1</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>p</span><span class=p>[</span><span class=n>s1</span><span class=p>[</span><span class=n>i</span><span class=p>]].</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>p</span><span class=p>[</span><span class=n>s1</span><span class=p>[</span><span class=n>i</span><span class=p>]][</span><span class=n>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>.</span><span class=n>back</span><span class=p>())</span> <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=o>*</span><span class=n>lower_bound</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>n</span><span class=p>)</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=題目><a href=#%e9%a1%8c%e7%9b%ae class=header-anchor></a>題目</h1><ul><li><a class=link href=https://vjudge.net/contest/450622 target=_blank rel=noopener>Virtual Judge</a></li><li>題目列表與提示<div class=table-wrapper><table><thead><tr><th style=text-align:left>題目</th><th style=text-align:left>題目需求</th><th style=text-align:left>採用演算法</th><th style=text-align:center>難度 (for 新手)</th></tr></thead><tbody><tr><td style=text-align:left>UVa 10130</td><td style=text-align:left>給物品價值和重量，給全家人每人最大負重，問全家能搬走的最高總價。</td><td style=text-align:left>經典背包</td><td style=text-align:center>易</td></tr><tr><td style=text-align:left>UVa 357</td><td style=text-align:left>給定幣值種類，問某一個金額存在幾種表示法。</td><td style=text-align:left>經典零錢問題</td><td style=text-align:center>易</td></tr><tr><td style=text-align:left>UVa 10405</td><td style=text-align:left>給兩個字串，問最長共同子字串。</td><td style=text-align:left>裸 LCS</td><td style=text-align:center>易</td></tr><tr><td style=text-align:left>UVa 369</td><td style=text-align:left>求 N 個中取 M 個數的總組合數。</td><td style=text-align:left>組合數公式</td><td style=text-align:center>易</td></tr><tr><td style=text-align:left>UVa 10003</td><td style=text-align:left>給一根棍子上的切斷點，每次切斷的成本為該段長度，問所有切斷點都切斷的最小成本。</td><td style=text-align:left>區間 DP</td><td style=text-align:center>易</td></tr><tr><td style=text-align:left>UVa 103</td><td style=text-align:left>給一堆 D 維的盒子，問這些盒子一個裝進一個，最多能裝多少個。</td><td style=text-align:left>DAG 最短路/LIS</td><td style=text-align:center>中</td></tr><tr><td style=text-align:left>UVa 10534</td><td style=text-align:left>一個 Wavio 序列含 2n+1 個數，前半嚴格遞增，後半嚴格遞減。求一個數列中的最長 Wavio 序列。</td><td style=text-align:left>O(nlogn) LIS</td><td style=text-align:center>難</td></tr><tr><td style=text-align:left>UVa 10949</td><td style=text-align:left>給兩個長度最多 20000 個字元的字串，求最長共同子字串。</td><td style=text-align:left>因字串很長，需透過 LCS->LIS 轉換，再用快速 LIS 解決。</td><td style=text-align:center>難</td></tr><tr><td style=text-align:left>UVa 10032</td><td style=text-align:left>給一群人的體重，將他們分成兩群（人數最多差一個），並儘可能最小化兩群的體重和差距。</td><td style=text-align:left>背包變化+狀態壓縮</td><td style=text-align:center>\(難^2\)</td></tr><tr><td style=text-align:left>UVa 104</td><td style=text-align:left>給 n 種貨幣彼此間的匯率，找出一種匯率轉換順序能從中套利 1% 以上。</td><td style=text-align:left>Floyd-Warshall</td><td style=text-align:center>\(難^2\)</td></tr></tbody></table></div></li></ul><h1 id=參考作法><a href=#%e5%8f%83%e8%80%83%e4%bd%9c%e6%b3%95 class=header-anchor></a>參考作法</h1><h2 id=a---supersale><a href=#a---supersale class=header-anchor></a>A - SuperSale</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>T</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>m</span><span class=p>,</span> <span class=n>c</span><span class=p>[</span><span class=mi>35</span><span class=p>],</span> <span class=n>g</span><span class=p>,</span> <span class=n>ans</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>p</span><span class=p>[</span><span class=n>n</span><span class=p>],</span> <span class=n>w</span><span class=p>[</span><span class=n>n</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>p</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;&gt;</span> <span class=n>w</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>g</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>memset</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>c</span><span class=p>));</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>g</span><span class=p>;</span> <span class=n>k</span> <span class=o>-</span> <span class=n>w</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>k</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>c</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>c</span><span class=p>[</span><span class=n>k</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>k</span> <span class=o>-</span> <span class=n>w</span><span class=p>[</span><span class=n>j</span><span class=p>]]</span> <span class=o>+</span> <span class=n>p</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span> <span class=o>+=</span> <span class=n>c</span><span class=p>[</span><span class=n>g</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>ans</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=b---let-me-count-the-ways><a href=#b---let-me-count-the-ways class=header-anchor></a>B - Let Me Count The Ways</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>p</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>50</span><span class=p>,</span> <span class=mi>25</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>1</span><span class=p>},</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>long</span> <span class=kt>long</span> <span class=n>c</span><span class=p>[</span><span class=mi>30005</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>memset</span><span class=p>(</span><span class=n>c</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>c</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>p</span><span class=p>[</span><span class=n>i</span><span class=p>];</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>+=</span> <span class=n>c</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=n>p</span><span class=p>[</span><span class=n>i</span><span class=p>]];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>c</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;There is only 1 way to produce &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; cents change.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;There are &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; ways to produce &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; cents change.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=c---longest-common-subsequence><a href=#c---longest-common-subsequence class=header-anchor></a>C - Longest Common Subsequence</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>s1</span><span class=p>,</span> <span class=n>s2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>getline</span><span class=p>(</span><span class=n>cin</span><span class=p>,</span> <span class=n>s1</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>getline</span><span class=p>(</span><span class=n>cin</span><span class=p>,</span> <span class=n>s2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n1</span> <span class=o>=</span> <span class=n>s1</span><span class=p>.</span><span class=n>length</span><span class=p>(),</span> <span class=n>n2</span> <span class=o>=</span> <span class=n>s2</span><span class=p>.</span><span class=n>length</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>dp</span><span class=p>[</span><span class=n>n1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>][</span><span class=n>n2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n1</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n2</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n1</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n2</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>s1</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>s2</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>],</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>dp</span><span class=p>[</span><span class=n>n1</span><span class=p>][</span><span class=n>n2</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=d---combinations><a href=#d---combinations class=header-anchor></a>D - Combinations</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>long</span> <span class=kt>long</span> <span class=n>c</span><span class=p>[</span><span class=mi>105</span><span class=p>][</span><span class=mi>105</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span> <span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=mi>100</span> <span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>1</span> <span class=p>;</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>i</span> <span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>j</span><span class=p>)</span> <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>c</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>*</span> <span class=n>i</span> <span class=o>/</span> <span class=p>(</span><span class=n>i</span> <span class=o>-</span> <span class=n>j</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span> <span class=o>&gt;&gt;</span> <span class=n>m</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>m</span> <span class=o>==</span> <span class=mi>0</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; things taken &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; at a time is &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>[</span><span class=n>n</span><span class=p>][</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; exactly.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=e---cutting-sticks><a href=#e---cutting-sticks class=header-anchor></a>E - Cutting Sticks</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>len</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>c</span><span class=p>[</span><span class=mi>55</span><span class=p>],</span> <span class=n>dp</span><span class=p>[</span><span class=mi>55</span><span class=p>][</span><span class=mi>55</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>len</span> <span class=o>&amp;&amp;</span> <span class=n>len</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span><span class=p>[</span><span class=o>++</span><span class=n>n</span><span class=p>]</span> <span class=o>=</span> <span class=n>len</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>memset</span><span class=p>(</span><span class=n>dp</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>dp</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>w</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=n>w</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>w</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>l</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=o>++</span><span class=n>l</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=n>w</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>r</span> <span class=o>&gt;</span> <span class=n>n</span><span class=p>)</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>l</span><span class=p>][</span><span class=n>r</span><span class=p>]</span> <span class=o>=</span> <span class=n>INF</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span> <span class=n>m</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>;</span> <span class=o>++</span><span class=n>m</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>dp</span><span class=p>[</span><span class=n>l</span><span class=p>][</span><span class=n>r</span><span class=p>]</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>l</span><span class=p>][</span><span class=n>m</span><span class=p>]</span> <span class=o>+</span> <span class=n>dp</span><span class=p>[</span><span class=n>m</span><span class=p>][</span><span class=n>r</span><span class=p>]</span> <span class=o>+</span> <span class=n>c</span><span class=p>[</span><span class=n>r</span><span class=p>]</span> <span class=o>-</span> <span class=n>c</span><span class=p>[</span><span class=n>l</span><span class=p>],</span> <span class=n>dp</span><span class=p>[</span><span class=n>l</span><span class=p>][</span><span class=n>r</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;The minimum cutting is &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>n</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=f---stacking-boxes><a href=#f---stacking-boxes class=header-anchor></a>F - Stacking Boxes</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>struct</span> <span class=nc>Box</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>len</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>boxcmp</span><span class=p>(</span><span class=k>const</span> <span class=n>Box</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>,</span> <span class=k>const</span> <span class=n>Box</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>sz</span> <span class=o>=</span> <span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>sz</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>b</span><span class=p>.</span><span class=n>len</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>b</span><span class=p>.</span><span class=n>len</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>isContain</span><span class=p>(</span><span class=k>const</span> <span class=n>Box</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>,</span> <span class=k>const</span> <span class=n>Box</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>sz</span> <span class=o>=</span> <span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>sz</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>b</span><span class=p>.</span><span class=n>len</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>printBox</span><span class=p>(</span><span class=k>const</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>prevNesting</span><span class=p>,</span> <span class=k>const</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>Box</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>box</span><span class=p>,</span> <span class=kt>int</span> <span class=n>lastbox</span><span class=p>,</span> <span class=kt>bool</span> <span class=n>printSpace</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>lastbox</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>printBox</span><span class=p>(</span><span class=n>prevNesting</span><span class=p>,</span> <span class=n>box</span><span class=p>,</span> <span class=n>prevNesting</span><span class=p>[</span><span class=n>lastbox</span><span class=p>],</span> <span class=nb>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>box</span><span class=p>[</span><span class=n>lastbox</span><span class=p>].</span><span class=n>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>printSpace</span><span class=p>)</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>k</span><span class=p>,</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>k</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=n>Box</span><span class=o>&gt;</span> <span class=n>box</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=n>tmp</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>t</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=n>sort</span><span class=p>(</span><span class=n>tmp</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>tmp</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span><span class=line><span class=cl>            <span class=n>box</span><span class=p>.</span><span class=n>push_back</span><span class=p>({</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>tmp</span><span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>sort</span><span class=p>(</span><span class=n>box</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>box</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>boxcmp</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>maxNesting</span><span class=p>(</span><span class=n>k</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>prevNesting</span><span class=p>(</span><span class=n>k</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>maxLen</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>lastbox</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>i</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>isContain</span><span class=p>(</span><span class=n>box</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>box</span><span class=p>[</span><span class=n>j</span><span class=p>]))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span><span class=p>(</span><span class=n>maxNesting</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>&gt;</span> <span class=n>maxNesting</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>maxNesting</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>maxNesting</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                        <span class=n>prevNesting</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                        <span class=k>if</span><span class=p>(</span><span class=n>maxNesting</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>maxLen</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                            <span class=n>maxLen</span> <span class=o>=</span> <span class=n>maxNesting</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                            <span class=n>lastbox</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                        <span class=p>}</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>maxLen</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>printBox</span><span class=p>(</span><span class=n>prevNesting</span><span class=p>,</span> <span class=n>box</span><span class=p>,</span> <span class=n>lastbox</span><span class=p>,</span> <span class=nb>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=g---wavio-sequence><a href=#g---wavio-sequence class=header-anchor></a>G - Wavio Sequence</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>a</span><span class=p>[</span><span class=mi>10005</span><span class=p>],</span> <span class=n>dpI</span><span class=p>[</span><span class=mi>10005</span><span class=p>],</span> <span class=n>dpD</span><span class=p>[</span><span class=mi>10005</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>LIS</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=n>dpI</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>.</span><span class=n>back</span><span class=p>())</span> <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=o>*</span><span class=n>lower_bound</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>=</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>dpI</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>LDS</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=n>dpD</span><span class=p>[</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>.</span><span class=n>back</span><span class=p>())</span> <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=o>*</span><span class=n>lower_bound</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>=</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>dpD</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>memset</span><span class=p>(</span><span class=n>dpI</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>dpI</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=n>memset</span><span class=p>(</span><span class=n>dpD</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>dpD</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>LIS</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>LDS</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>min</span><span class=p>(</span><span class=n>dpI</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>dpD</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>ans</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>ans</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=h---kids-in-a-grid><a href=#h---kids-in-a-grid class=header-anchor></a>H - Kids in a Grid</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=n>string</span> <span class=n>g</span><span class=p>[</span><span class=mi>30</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>LCS</span><span class=p>(</span><span class=n>string</span> <span class=o>&amp;</span><span class=n>s1</span><span class=p>,</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>s2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>p</span><span class=p>[</span><span class=mi>130</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s2</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>p</span><span class=p>[</span><span class=n>s2</span><span class=p>[</span><span class=n>i</span><span class=p>]].</span><span class=n>push_back</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s1</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>p</span><span class=p>[</span><span class=n>s1</span><span class=p>[</span><span class=n>i</span><span class=p>]].</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>p</span><span class=p>[</span><span class=n>s1</span><span class=p>[</span><span class=n>i</span><span class=p>]][</span><span class=n>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>.</span><span class=n>back</span><span class=p>())</span> <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=o>*</span><span class=n>lower_bound</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>v</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>n</span><span class=p>)</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>string</span> <span class=nf>getStr</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>s</span><span class=p>,</span> <span class=n>path</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span> <span class=o>&gt;&gt;</span> <span class=n>x</span> <span class=o>&gt;&gt;</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span><span class=p>.</span><span class=n>ignore</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=sc>&#39;\n&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>getline</span><span class=p>(</span><span class=n>cin</span><span class=p>,</span> <span class=n>path</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>curX</span> <span class=o>=</span> <span class=n>x</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>curY</span> <span class=o>=</span> <span class=n>y</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>+=</span> <span class=n>g</span><span class=p>[</span><span class=n>curX</span><span class=p>][</span><span class=n>curY</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;N&#39;</span><span class=p>)</span> <span class=o>--</span><span class=n>curX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;E&#39;</span><span class=p>)</span> <span class=o>++</span><span class=n>curY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;S&#39;</span><span class=p>)</span> <span class=o>++</span><span class=n>curX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;W&#39;</span><span class=p>)</span> <span class=o>--</span><span class=n>curY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>+=</span> <span class=n>g</span><span class=p>[</span><span class=n>curX</span><span class=p>][</span><span class=n>curY</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>T</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>row</span><span class=p>,</span> <span class=n>col</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>row</span> <span class=o>&gt;&gt;</span> <span class=n>col</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>string</span> <span class=n>str1</span><span class=p>,</span> <span class=n>str2</span><span class=p>,</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>row</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>g</span><span class=p>[</span><span class=n>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>str1</span> <span class=o>=</span> <span class=n>getStr</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>str2</span> <span class=o>=</span> <span class=n>getStr</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>len</span><span class=p>,</span> <span class=n>len1</span> <span class=o>=</span> <span class=n>str1</span><span class=p>.</span><span class=n>length</span><span class=p>(),</span> <span class=n>len2</span> <span class=o>=</span> <span class=n>str2</span><span class=p>.</span><span class=n>length</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>len1</span> <span class=o>&gt;</span> <span class=n>len2</span><span class=p>)</span> <span class=n>len</span> <span class=o>=</span> <span class=n>LCS</span><span class=p>(</span><span class=n>str2</span><span class=p>,</span> <span class=n>str1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=n>len</span> <span class=o>=</span> <span class=n>LCS</span><span class=p>(</span><span class=n>str1</span><span class=p>,</span> <span class=n>str2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Case &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;: &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>len1</span> <span class=o>-</span> <span class=n>len</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>len2</span> <span class=o>-</span> <span class=n>len</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=i---tug-of-war><a href=#i---tug-of-war class=header-anchor></a>I - Tug of War</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=nf>f</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>w</span><span class=p>,</span> <span class=kt>int</span> <span class=n>sum</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>w</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>sort</span><span class=p>(</span><span class=n>w</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>w</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>T</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>w</span><span class=p>[</span><span class=mi>105</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>dp</span><span class=p>[</span><span class=mi>22505</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>w</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>sum</span> <span class=o>=</span> <span class=n>accumulate</span><span class=p>(</span><span class=n>w</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>w</span> <span class=o>+</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0LL</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>memset</span><span class=p>(</span><span class=n>dp</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>dp</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>sum</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span> <span class=n>j</span> <span class=o>&gt;=</span> <span class=n>w</span><span class=p>[</span><span class=n>i</span><span class=p>];</span> <span class=n>j</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>|=</span> <span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=n>w</span><span class=p>[</span><span class=n>i</span><span class=p>]]</span> <span class=o>&lt;&lt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>n</span> <span class=o>&amp;</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>sum</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>long</span> <span class=kt>long</span> <span class=n>flag1</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1LL</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>n</span> <span class=o>/</span> <span class=mi>2</span><span class=p>));</span>
</span></span><span class=line><span class=cl>                <span class=kt>long</span> <span class=kt>long</span> <span class=n>flag2</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1LL</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>n</span> <span class=o>/</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>));</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>((</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>&amp;</span><span class=n>flag1</span><span class=p>)</span> <span class=o>||</span> <span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>&amp;</span><span class=n>flag2</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>sum</span> <span class=o>-</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>sum</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&amp;</span> <span class=p>(</span><span class=mi>1LL</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>n</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>sum</span> <span class=o>-</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>T</span><span class=p>)</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=j---arbitrage><a href=#j---arbitrage class=header-anchor></a>J - Arbitrage</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#define USE_CPPIO() ios_base::sync_with_stdio(0); cin.tie(0)
</span></span></span><span class=line><span class=cl><span class=cp>#define INF 0x3f3f3f3f
</span></span></span><span class=line><span class=cl><span class=cp>#define NINF 0xc0c0c0c0
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>void</span> <span class=nf>printPath</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&gt;</span> <span class=o>&amp;</span><span class=n>paths</span><span class=p>,</span> <span class=kt>int</span> <span class=n>t</span><span class=p>,</span> <span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=kt>int</span> <span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>t</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>printPath</span><span class=p>(</span><span class=n>paths</span><span class=p>,</span> <span class=n>t</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>paths</span><span class=p>[</span><span class=n>t</span><span class=p>][</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef ONLINE_JUDGE
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.txt&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>    <span class=n>USE_CPPIO</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span> <span class=n>ct</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>j</span><span class=p>)</span> <span class=n>ct</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span> <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>ct</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;&gt;</span> <span class=n>values</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>)));</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&gt;</span> <span class=n>paths</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)));</span>
</span></span><span class=line><span class=cl>        <span class=n>values</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>ct</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>item</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>itemT</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>t</span> <span class=o>=</span> <span class=mi>1</span> <span class=p>;</span> <span class=n>t</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>item</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span> <span class=p>;</span> <span class=o>++</span><span class=n>t</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span> <span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>item</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span> <span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span> <span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>item</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span> <span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>values</span><span class=p>[</span><span class=n>t</span><span class=p>][</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=o>-</span><span class=mf>1.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span> <span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=p>;</span> <span class=o>++</span><span class=n>k</span> <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=kt>double</span> <span class=n>newRate</span> <span class=o>=</span> <span class=n>values</span><span class=p>[</span><span class=n>t</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>i</span><span class=p>][</span><span class=n>k</span><span class=p>]</span> <span class=o>*</span> <span class=n>ct</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=n>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                        <span class=k>if</span><span class=p>(</span><span class=n>newRate</span> <span class=o>&gt;</span> <span class=n>values</span><span class=p>[</span><span class=n>t</span><span class=p>][</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                            <span class=n>values</span><span class=p>[</span><span class=n>t</span><span class=p>][</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>newRate</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                            <span class=n>paths</span><span class=p>[</span><span class=n>t</span><span class=p>][</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                        <span class=p>}</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>values</span><span class=p>[</span><span class=n>t</span><span class=p>][</span><span class=n>i</span><span class=p>][</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mf>1.01</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>item</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>itemT</span> <span class=o>=</span> <span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>item</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;no arbitrage sequence exists</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>printPath</span><span class=p>(</span><span class=n>paths</span><span class=p>,</span> <span class=n>itemT</span><span class=p>,</span> <span class=n>item</span><span class=p>,</span> <span class=n>item</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/uva/>UVA</a></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/star_coder-07/><div class=article-details><h2 class=article-title>StarCoder2021暑訓：Week06</h2></div></a></article><article><a href=/p/star_coder-06/><div class=article-details><h2 class=article-title>StarCoder2021暑訓：Week05</h2></div></a></article><article><a href=/p/star_coder-04/><div class=article-details><h2 class=article-title>StarCoder2021暑訓：Week03</h2></div></a></article><article><a href=/p/star_coder-03/><div class=article-details><h2 class=article-title>StarCoder2021暑訓：Week02</h2></div></a></article><article><a href=/p/star_coder-02/><div class=article-details><h2 class=article-title>StarCoder2021暑訓：Week01</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 小十的部落格</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>