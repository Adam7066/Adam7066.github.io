<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='簡介 這篇內容將帶領大家製作點陣跑馬燈，並且用Blynk來操控它 硬體 WeMos D1R2 * 1 MAX7219 8*8LED點陣模組 * 2 下載 至手機應用商店下載Blynk的App－Blynk官網 下載Blynk函式庫 maxmatrix－下載並加入函式庫 教學開始 連接腳位 MAX7219 D1R2 VCC 5V GND GND DIN MOSI/D7 CS SS/D8 CLK SCK/D5 若要串聯多塊MAX7219的話，請將下一塊的DIN接至上一塊的DOUT連接腳位 設定Blynk 請照下圖拉出三個物件，並設定其相關參數 D1R2程式碼 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 #include <MaxMatrix.h> #include <avr/pgmspace.h> #include <ESP8266WiFi.h> #include <BlynkSimpleEsp8266.h> char auth[] = "Blynk auth"; char ssid[] = "Wifi ssid"; char pass[] = "Wifi password"; PROGMEM const unsigned char CH[] = { 3, 8, B0000000, B0000000, B0000000, B0000000, B0000000, // space 1, 8, B1011111, B0000000, B0000000, B0000000, B0000000, // ! 3, 8, B0000011, B0000000, B0000011, B0000000, B0000000, // " 5, 8, B0010100, B0111110, B0010100, B0111110, B0010100, // # 4, 8, B0100100, B1101010, B0101011, B0010010, B0000000, // $ 5, 8, B1100011, B0010011, B0001000, B1100100, B1100011, // % 5, 8, B0110110, B1001001, B1010110, B0100000, B1010000, // & 1, 8, B0000011, B0000000, B0000000, B0000000, B0000000, // &#39; 3, 8, B0011100, B0100010, B1000001, B0000000, B0000000, // ( 3, 8, B1000001, B0100010, B0011100, B0000000, B0000000, // ) 5, 8, B0101000, B0011000, B0001110, B0011000, B0101000, // * 5, 8, B0001000, B0001000, B0111110, B0001000, B0001000, // + 2, 8, B10110000, B1110000, B0000000, B0000000, B0000000, // , 4, 8, B0001000, B0001000, B0001000, B0001000, B0000000, // - 2, 8, B1100000, B1100000, B0000000, B0000000, B0000000, // . 4, 8, B1100000, B0011000, B0000110, B0000001, B0000000, // / 4, 8, B0111110, B1000001, B1000001, B0111110, B0000000, // 0 3, 8, B1000010, B1111111, B1000000, B0000000, B0000000, // 1 4, 8, B1100010, B1010001, B1001001, B1000110, B0000000, // 2 4, 8, B0100010, B1000001, B1001001, B0110110, B0000000, // 3 4, 8, B0011000, B0010100, B0010010, B1111111, B0000000, // 4 4, 8, B0100111, B1000101, B1000101, B0111001, B0000000, // 5 4, 8, B0111110, B1001001, B1001001, B0110000, B0000000, // 6 4, 8, B1100001, B0010001, B0001001, B0000111, B0000000, // 7 4, 8, B0110110, B1001001, B1001001, B0110110, B0000000, // 8 4, 8, B0000110, B1001001, B1001001, B0111110, B0000000, // 9 2, 8, B01010000, B0000000, B0000000, B0000000, B0000000, // : 2, 8, B10000000, B01010000, B0000000, B0000000, B0000000, // ; 3, 8, B0010000, B0101000, B1000100, B0000000, B0000000, // < 3, 8, B0010100, B0010100, B0010100, B0000000, B0000000, // = 3, 8, B1000100, B0101000, B0010000, B0000000, B0000000, // > 4, 8, B0000010, B1011001, B0001001, B0000110, B0000000, // ? 5, 8, B0111110, B1001001, B1010101, B1011101, B0001110, // @ 4, 8, B1111110, B0010001, B0010001, B1111110, B0000000, // A 4, 8, B1111111, B1001001, B1001001, B0110110, B0000000, // B 4, 8, B0111110, B1000001, B1000001, B0100010, B0000000, // C 4, 8, B1111111, B1000001, B1000001, B0111110, B0000000, // D 4, 8, B1111111, B1001001, B1001001, B1000001, B0000000, // E 4, 8, B1111111, B0001001, B0001001, B0000001, B0000000, // F 4, 8, B0111110, B1000001, B1001001, B1111010, B0000000, // G 4, 8, B1111111, B0001000, B0001000, B1111111, B0000000, // H 3, 8, B1000001, B1111111, B1000001, B0000000, B0000000, // I 4, 8, B0110000, B1000000, B1000001, B0111111, B0000000, // J 4, 8, B1111111, B0001000, B0010100, B1100011, B0000000, // K 4, 8, B1111111, B1000000, B1000000, B1000000, B0000000, // L 5, 8, B1111111, B0000010, B0001100, B0000010, B1111111, // M 5, 8, B1111111, B0000100, B0001000, B0010000, B1111111, // N 4, 8, B0111110, B1000001, B1000001, B0111110, B0000000, // O 4, 8, B1111111, B0001001, B0001001, B0000110, B0000000, // P 4, 8, B0111110, B1000001, B1000001, B10111110, B0000000, // Q 4, 8, B1111111, B0001001, B0001001, B1110110, B0000000, // R 4, 8, B1000110, B1001001, B1001001, B0110010, B0000000, // S 5, 8, B0000001, B0000001, B1111111, B0000001, B0000001, // T 4, 8, B0111111, B1000000, B1000000, B0111111, B0000000, // U 5, 8, B0001111, B0110000, B1000000, B0110000, B0001111, // V 5, 8, B0111111, B1000000, B0111000, B1000000, B0111111, // W 5, 8, B1100011, B0010100, B0001000, B0010100, B1100011, // X 5, 8, B0000111, B0001000, B1110000, B0001000, B0000111, // Y 4, 8, B1100001, B1010001, B1001001, B1000111, B0000000, // Z 2, 8, B1111111, B1000001, B0000000, B0000000, B0000000, // [ 4, 8, B0000001, B0000110, B0011000, B1100000, B0000000, // backslash 2, 8, B1000001, B1111111, B0000000, B0000000, B0000000, // ] 3, 8, B0000010, B0000001, B0000010, B0000000, B0000000, // hat 4, 8, B1000000, B1000000, B1000000, B1000000, B0000000, // _ 2, 8, B0000001, B0000010, B0000000, B0000000, B0000000, // ` 4, 8, B0100000, B1010100, B1010100, B1111000, B0000000, // a 4, 8, B1111111, B1000100, B1000100, B0111000, B0000000, // b 4, 8, B0111000, B1000100, B1000100, B0101000, B0000000, // c 4, 8, B0111000, B1000100, B1000100, B1111111, B0000000, // d 4, 8, B0111000, B1010100, B1010100, B0011000, B0000000, // e 3, 8, B0000100, B1111110, B0000101, B0000000, B0000000, // f 4, 8, B10011000, B10100100, B10100100, B01111000, B0000000, // g 4, 8, B1111111, B0000100, B0000100, B1111000, B0000000, // h 3, 8, B1000100, B1111101, B1000000, B0000000, B0000000, // i 4, 8, B1000000, B10000000, B10000100, B1111101, B0000000, // j 4, 8, B1111111, B0010000, B0101000, B1000100, B0000000, // k 3, 8, B1000001, B1111111, B1000000, B0000000, B0000000, // l 5, 8, B1111100, B0000100, B1111100, B0000100, B1111000, // m 4, 8, B1111100, B0000100, B0000100, B1111000, B0000000, // n 4, 8, B0111000, B1000100, B1000100, B0111000, B0000000, // o 4, 8, B11111100, B0100100, B0100100, B0011000, B0000000, // p 4, 8, B0011000, B0100100, B0100100, B11111100, B0000000, // q 4, 8, B1111100, B0001000, B0000100, B0000100, B0000000, // r 4, 8, B1001000, B1010100, B1010100, B0100100, B0000000, // s 3, 8, B0000100, B0111111, B1000100, B0000000, B0000000, // t 4, 8, B0111100, B1000000, B1000000, B1111100, B0000000, // u 5, 8, B0011100, B0100000, B1000000, B0100000, B0011100, // v 5, 8, B0111100, B1000000, B0111100, B1000000, B0111100, // w 5, 8, B1000100, B0101000, B0010000, B0101000, B1000100, // x 4, 8, B10011100, B10100000, B10100000, B1111100, B0000000, // y 3, 8, B1100100, B1010100, B1001100, B0000000, B0000000, // z 3, 8, B0001000, B0110110, B1000001, B0000000, B0000000, // { 1, 8, B1111111, B0000000, B0000000, B0000000, B0000000, // | 3, 8, B1000001, B0110110, B0001000, B0000000, B0000000, // } 4, 8, B0001000, B0000100, B0001000, B0000100, B0000000, // ~ }; const byte data = D7; const byte cs = D8; const byte clk = D5; const byte maxInUse = 2; //使用的點陣模塊數量 MaxMatrix m(data, cs, clk, maxInUse); byte buffer[8]; String str; int speed = 100; //移動的速度，單位ms int light = 5; bool islight = false; void printChar(char); BLYNK_WRITE(V0){ str = param.asStr(); for(int i=0; i<maxInUse; ++i) str+=" "; } BLYNK_WRITE(V1){ light = param.asInt(); islight = true; } BLYNK_WRITE(V2){ speed = param.asInt(); } void setup() { Serial.begin(115200); //Blynk Blynk.begin(auth, ssid, pass); Blynk.virtualWrite(V1, light); Blynk.virtualWrite(V2, speed); //8*8 led m.init(); m.setIntensity(light); //點陣模組的亮度 } void loop() { if(Blynk.connected()){ Blynk.run(); if(islight){ m.setIntensity(light); islight = false; } int len = str.length(); for(int i=0; i<len; ++i){ printChar(str[i]); } } else{ Blynk.begin(auth, ssid, pass); Serial.println("Reconnected!"); } } void printChar(char c) { if(c<32) return; c-=32; memcpy_P(buffer, CH+7*c, 7); m.writeSprite(32, 0, buffer); m.setColumn(32+buffer[0], 0); for(int i=0; i<=buffer[0]; ++i){ delay(speed); /*往左位移，第一個參數false，代表不旋轉； 第二個參數false，代表不清空顯示；若設成true，顯示器將不呈現資料。*/ m.shiftLeft(false, false); } } 補充 若是覺得Blynk的能量太少，可自行架設 Server '><title>Arduino-03：跑馬燈</title>
<link rel=canonical href=https://blog.smallten.me/p/arduino-03/><link rel=stylesheet href=/scss/style.min.14c8dd7a5184c7bde0c496d7bd72d867c041f2ea72f238426b3c03c02cceecfd.css><meta property='og:title' content="Arduino-03：跑馬燈"><meta property='og:description' content='簡介 這篇內容將帶領大家製作點陣跑馬燈，並且用Blynk來操控它 硬體 WeMos D1R2 * 1 MAX7219 8*8LED點陣模組 * 2 下載 至手機應用商店下載Blynk的App－Blynk官網 下載Blynk函式庫 maxmatrix－下載並加入函式庫 教學開始 連接腳位 MAX7219 D1R2 VCC 5V GND GND DIN MOSI/D7 CS SS/D8 CLK SCK/D5 若要串聯多塊MAX7219的話，請將下一塊的DIN接至上一塊的DOUT連接腳位 設定Blynk 請照下圖拉出三個物件，並設定其相關參數 D1R2程式碼 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 #include <MaxMatrix.h> #include <avr/pgmspace.h> #include <ESP8266WiFi.h> #include <BlynkSimpleEsp8266.h> char auth[] = "Blynk auth"; char ssid[] = "Wifi ssid"; char pass[] = "Wifi password"; PROGMEM const unsigned char CH[] = { 3, 8, B0000000, B0000000, B0000000, B0000000, B0000000, // space 1, 8, B1011111, B0000000, B0000000, B0000000, B0000000, // ! 3, 8, B0000011, B0000000, B0000011, B0000000, B0000000, // " 5, 8, B0010100, B0111110, B0010100, B0111110, B0010100, // # 4, 8, B0100100, B1101010, B0101011, B0010010, B0000000, // $ 5, 8, B1100011, B0010011, B0001000, B1100100, B1100011, // % 5, 8, B0110110, B1001001, B1010110, B0100000, B1010000, // & 1, 8, B0000011, B0000000, B0000000, B0000000, B0000000, // &#39; 3, 8, B0011100, B0100010, B1000001, B0000000, B0000000, // ( 3, 8, B1000001, B0100010, B0011100, B0000000, B0000000, // ) 5, 8, B0101000, B0011000, B0001110, B0011000, B0101000, // * 5, 8, B0001000, B0001000, B0111110, B0001000, B0001000, // + 2, 8, B10110000, B1110000, B0000000, B0000000, B0000000, // , 4, 8, B0001000, B0001000, B0001000, B0001000, B0000000, // - 2, 8, B1100000, B1100000, B0000000, B0000000, B0000000, // . 4, 8, B1100000, B0011000, B0000110, B0000001, B0000000, // / 4, 8, B0111110, B1000001, B1000001, B0111110, B0000000, // 0 3, 8, B1000010, B1111111, B1000000, B0000000, B0000000, // 1 4, 8, B1100010, B1010001, B1001001, B1000110, B0000000, // 2 4, 8, B0100010, B1000001, B1001001, B0110110, B0000000, // 3 4, 8, B0011000, B0010100, B0010010, B1111111, B0000000, // 4 4, 8, B0100111, B1000101, B1000101, B0111001, B0000000, // 5 4, 8, B0111110, B1001001, B1001001, B0110000, B0000000, // 6 4, 8, B1100001, B0010001, B0001001, B0000111, B0000000, // 7 4, 8, B0110110, B1001001, B1001001, B0110110, B0000000, // 8 4, 8, B0000110, B1001001, B1001001, B0111110, B0000000, // 9 2, 8, B01010000, B0000000, B0000000, B0000000, B0000000, // : 2, 8, B10000000, B01010000, B0000000, B0000000, B0000000, // ; 3, 8, B0010000, B0101000, B1000100, B0000000, B0000000, // < 3, 8, B0010100, B0010100, B0010100, B0000000, B0000000, // = 3, 8, B1000100, B0101000, B0010000, B0000000, B0000000, // > 4, 8, B0000010, B1011001, B0001001, B0000110, B0000000, // ? 5, 8, B0111110, B1001001, B1010101, B1011101, B0001110, // @ 4, 8, B1111110, B0010001, B0010001, B1111110, B0000000, // A 4, 8, B1111111, B1001001, B1001001, B0110110, B0000000, // B 4, 8, B0111110, B1000001, B1000001, B0100010, B0000000, // C 4, 8, B1111111, B1000001, B1000001, B0111110, B0000000, // D 4, 8, B1111111, B1001001, B1001001, B1000001, B0000000, // E 4, 8, B1111111, B0001001, B0001001, B0000001, B0000000, // F 4, 8, B0111110, B1000001, B1001001, B1111010, B0000000, // G 4, 8, B1111111, B0001000, B0001000, B1111111, B0000000, // H 3, 8, B1000001, B1111111, B1000001, B0000000, B0000000, // I 4, 8, B0110000, B1000000, B1000001, B0111111, B0000000, // J 4, 8, B1111111, B0001000, B0010100, B1100011, B0000000, // K 4, 8, B1111111, B1000000, B1000000, B1000000, B0000000, // L 5, 8, B1111111, B0000010, B0001100, B0000010, B1111111, // M 5, 8, B1111111, B0000100, B0001000, B0010000, B1111111, // N 4, 8, B0111110, B1000001, B1000001, B0111110, B0000000, // O 4, 8, B1111111, B0001001, B0001001, B0000110, B0000000, // P 4, 8, B0111110, B1000001, B1000001, B10111110, B0000000, // Q 4, 8, B1111111, B0001001, B0001001, B1110110, B0000000, // R 4, 8, B1000110, B1001001, B1001001, B0110010, B0000000, // S 5, 8, B0000001, B0000001, B1111111, B0000001, B0000001, // T 4, 8, B0111111, B1000000, B1000000, B0111111, B0000000, // U 5, 8, B0001111, B0110000, B1000000, B0110000, B0001111, // V 5, 8, B0111111, B1000000, B0111000, B1000000, B0111111, // W 5, 8, B1100011, B0010100, B0001000, B0010100, B1100011, // X 5, 8, B0000111, B0001000, B1110000, B0001000, B0000111, // Y 4, 8, B1100001, B1010001, B1001001, B1000111, B0000000, // Z 2, 8, B1111111, B1000001, B0000000, B0000000, B0000000, // [ 4, 8, B0000001, B0000110, B0011000, B1100000, B0000000, // backslash 2, 8, B1000001, B1111111, B0000000, B0000000, B0000000, // ] 3, 8, B0000010, B0000001, B0000010, B0000000, B0000000, // hat 4, 8, B1000000, B1000000, B1000000, B1000000, B0000000, // _ 2, 8, B0000001, B0000010, B0000000, B0000000, B0000000, // ` 4, 8, B0100000, B1010100, B1010100, B1111000, B0000000, // a 4, 8, B1111111, B1000100, B1000100, B0111000, B0000000, // b 4, 8, B0111000, B1000100, B1000100, B0101000, B0000000, // c 4, 8, B0111000, B1000100, B1000100, B1111111, B0000000, // d 4, 8, B0111000, B1010100, B1010100, B0011000, B0000000, // e 3, 8, B0000100, B1111110, B0000101, B0000000, B0000000, // f 4, 8, B10011000, B10100100, B10100100, B01111000, B0000000, // g 4, 8, B1111111, B0000100, B0000100, B1111000, B0000000, // h 3, 8, B1000100, B1111101, B1000000, B0000000, B0000000, // i 4, 8, B1000000, B10000000, B10000100, B1111101, B0000000, // j 4, 8, B1111111, B0010000, B0101000, B1000100, B0000000, // k 3, 8, B1000001, B1111111, B1000000, B0000000, B0000000, // l 5, 8, B1111100, B0000100, B1111100, B0000100, B1111000, // m 4, 8, B1111100, B0000100, B0000100, B1111000, B0000000, // n 4, 8, B0111000, B1000100, B1000100, B0111000, B0000000, // o 4, 8, B11111100, B0100100, B0100100, B0011000, B0000000, // p 4, 8, B0011000, B0100100, B0100100, B11111100, B0000000, // q 4, 8, B1111100, B0001000, B0000100, B0000100, B0000000, // r 4, 8, B1001000, B1010100, B1010100, B0100100, B0000000, // s 3, 8, B0000100, B0111111, B1000100, B0000000, B0000000, // t 4, 8, B0111100, B1000000, B1000000, B1111100, B0000000, // u 5, 8, B0011100, B0100000, B1000000, B0100000, B0011100, // v 5, 8, B0111100, B1000000, B0111100, B1000000, B0111100, // w 5, 8, B1000100, B0101000, B0010000, B0101000, B1000100, // x 4, 8, B10011100, B10100000, B10100000, B1111100, B0000000, // y 3, 8, B1100100, B1010100, B1001100, B0000000, B0000000, // z 3, 8, B0001000, B0110110, B1000001, B0000000, B0000000, // { 1, 8, B1111111, B0000000, B0000000, B0000000, B0000000, // | 3, 8, B1000001, B0110110, B0001000, B0000000, B0000000, // } 4, 8, B0001000, B0000100, B0001000, B0000100, B0000000, // ~ }; const byte data = D7; const byte cs = D8; const byte clk = D5; const byte maxInUse = 2; //使用的點陣模塊數量 MaxMatrix m(data, cs, clk, maxInUse); byte buffer[8]; String str; int speed = 100; //移動的速度，單位ms int light = 5; bool islight = false; void printChar(char); BLYNK_WRITE(V0){ str = param.asStr(); for(int i=0; i<maxInUse; ++i) str+=" "; } BLYNK_WRITE(V1){ light = param.asInt(); islight = true; } BLYNK_WRITE(V2){ speed = param.asInt(); } void setup() { Serial.begin(115200); //Blynk Blynk.begin(auth, ssid, pass); Blynk.virtualWrite(V1, light); Blynk.virtualWrite(V2, speed); //8*8 led m.init(); m.setIntensity(light); //點陣模組的亮度 } void loop() { if(Blynk.connected()){ Blynk.run(); if(islight){ m.setIntensity(light); islight = false; } int len = str.length(); for(int i=0; i<len; ++i){ printChar(str[i]); } } else{ Blynk.begin(auth, ssid, pass); Serial.println("Reconnected!"); } } void printChar(char c) { if(c<32) return; c-=32; memcpy_P(buffer, CH+7*c, 7); m.writeSprite(32, 0, buffer); m.setColumn(32+buffer[0], 0); for(int i=0; i<=buffer[0]; ++i){ delay(speed); /*往左位移，第一個參數false，代表不旋轉； 第二個參數false，代表不清空顯示；若設成true，顯示器將不呈現資料。*/ m.shiftLeft(false, false); } } 補充 若是覺得Blynk的能量太少，可自行架設 Server '><meta property='og:url' content='https://blog.smallten.me/p/arduino-03/'><meta property='og:site_name' content='小十的部落格'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Arduino'><meta property='article:published_time' content='2020-04-09T14:50:56+08:00'><meta property='article:modified_time' content='2020-04-09T14:50:56+08:00'><meta name=twitter:title content="Arduino-03：跑馬燈"><meta name=twitter:description content='簡介 這篇內容將帶領大家製作點陣跑馬燈，並且用Blynk來操控它 硬體 WeMos D1R2 * 1 MAX7219 8*8LED點陣模組 * 2 下載 至手機應用商店下載Blynk的App－Blynk官網 下載Blynk函式庫 maxmatrix－下載並加入函式庫 教學開始 連接腳位 MAX7219 D1R2 VCC 5V GND GND DIN MOSI/D7 CS SS/D8 CLK SCK/D5 若要串聯多塊MAX7219的話，請將下一塊的DIN接至上一塊的DOUT連接腳位 設定Blynk 請照下圖拉出三個物件，並設定其相關參數 D1R2程式碼 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 #include <MaxMatrix.h> #include <avr/pgmspace.h> #include <ESP8266WiFi.h> #include <BlynkSimpleEsp8266.h> char auth[] = "Blynk auth"; char ssid[] = "Wifi ssid"; char pass[] = "Wifi password"; PROGMEM const unsigned char CH[] = { 3, 8, B0000000, B0000000, B0000000, B0000000, B0000000, // space 1, 8, B1011111, B0000000, B0000000, B0000000, B0000000, // ! 3, 8, B0000011, B0000000, B0000011, B0000000, B0000000, // " 5, 8, B0010100, B0111110, B0010100, B0111110, B0010100, // # 4, 8, B0100100, B1101010, B0101011, B0010010, B0000000, // $ 5, 8, B1100011, B0010011, B0001000, B1100100, B1100011, // % 5, 8, B0110110, B1001001, B1010110, B0100000, B1010000, // & 1, 8, B0000011, B0000000, B0000000, B0000000, B0000000, // &#39; 3, 8, B0011100, B0100010, B1000001, B0000000, B0000000, // ( 3, 8, B1000001, B0100010, B0011100, B0000000, B0000000, // ) 5, 8, B0101000, B0011000, B0001110, B0011000, B0101000, // * 5, 8, B0001000, B0001000, B0111110, B0001000, B0001000, // + 2, 8, B10110000, B1110000, B0000000, B0000000, B0000000, // , 4, 8, B0001000, B0001000, B0001000, B0001000, B0000000, // - 2, 8, B1100000, B1100000, B0000000, B0000000, B0000000, // . 4, 8, B1100000, B0011000, B0000110, B0000001, B0000000, // / 4, 8, B0111110, B1000001, B1000001, B0111110, B0000000, // 0 3, 8, B1000010, B1111111, B1000000, B0000000, B0000000, // 1 4, 8, B1100010, B1010001, B1001001, B1000110, B0000000, // 2 4, 8, B0100010, B1000001, B1001001, B0110110, B0000000, // 3 4, 8, B0011000, B0010100, B0010010, B1111111, B0000000, // 4 4, 8, B0100111, B1000101, B1000101, B0111001, B0000000, // 5 4, 8, B0111110, B1001001, B1001001, B0110000, B0000000, // 6 4, 8, B1100001, B0010001, B0001001, B0000111, B0000000, // 7 4, 8, B0110110, B1001001, B1001001, B0110110, B0000000, // 8 4, 8, B0000110, B1001001, B1001001, B0111110, B0000000, // 9 2, 8, B01010000, B0000000, B0000000, B0000000, B0000000, // : 2, 8, B10000000, B01010000, B0000000, B0000000, B0000000, // ; 3, 8, B0010000, B0101000, B1000100, B0000000, B0000000, // < 3, 8, B0010100, B0010100, B0010100, B0000000, B0000000, // = 3, 8, B1000100, B0101000, B0010000, B0000000, B0000000, // > 4, 8, B0000010, B1011001, B0001001, B0000110, B0000000, // ? 5, 8, B0111110, B1001001, B1010101, B1011101, B0001110, // @ 4, 8, B1111110, B0010001, B0010001, B1111110, B0000000, // A 4, 8, B1111111, B1001001, B1001001, B0110110, B0000000, // B 4, 8, B0111110, B1000001, B1000001, B0100010, B0000000, // C 4, 8, B1111111, B1000001, B1000001, B0111110, B0000000, // D 4, 8, B1111111, B1001001, B1001001, B1000001, B0000000, // E 4, 8, B1111111, B0001001, B0001001, B0000001, B0000000, // F 4, 8, B0111110, B1000001, B1001001, B1111010, B0000000, // G 4, 8, B1111111, B0001000, B0001000, B1111111, B0000000, // H 3, 8, B1000001, B1111111, B1000001, B0000000, B0000000, // I 4, 8, B0110000, B1000000, B1000001, B0111111, B0000000, // J 4, 8, B1111111, B0001000, B0010100, B1100011, B0000000, // K 4, 8, B1111111, B1000000, B1000000, B1000000, B0000000, // L 5, 8, B1111111, B0000010, B0001100, B0000010, B1111111, // M 5, 8, B1111111, B0000100, B0001000, B0010000, B1111111, // N 4, 8, B0111110, B1000001, B1000001, B0111110, B0000000, // O 4, 8, B1111111, B0001001, B0001001, B0000110, B0000000, // P 4, 8, B0111110, B1000001, B1000001, B10111110, B0000000, // Q 4, 8, B1111111, B0001001, B0001001, B1110110, B0000000, // R 4, 8, B1000110, B1001001, B1001001, B0110010, B0000000, // S 5, 8, B0000001, B0000001, B1111111, B0000001, B0000001, // T 4, 8, B0111111, B1000000, B1000000, B0111111, B0000000, // U 5, 8, B0001111, B0110000, B1000000, B0110000, B0001111, // V 5, 8, B0111111, B1000000, B0111000, B1000000, B0111111, // W 5, 8, B1100011, B0010100, B0001000, B0010100, B1100011, // X 5, 8, B0000111, B0001000, B1110000, B0001000, B0000111, // Y 4, 8, B1100001, B1010001, B1001001, B1000111, B0000000, // Z 2, 8, B1111111, B1000001, B0000000, B0000000, B0000000, // [ 4, 8, B0000001, B0000110, B0011000, B1100000, B0000000, // backslash 2, 8, B1000001, B1111111, B0000000, B0000000, B0000000, // ] 3, 8, B0000010, B0000001, B0000010, B0000000, B0000000, // hat 4, 8, B1000000, B1000000, B1000000, B1000000, B0000000, // _ 2, 8, B0000001, B0000010, B0000000, B0000000, B0000000, // ` 4, 8, B0100000, B1010100, B1010100, B1111000, B0000000, // a 4, 8, B1111111, B1000100, B1000100, B0111000, B0000000, // b 4, 8, B0111000, B1000100, B1000100, B0101000, B0000000, // c 4, 8, B0111000, B1000100, B1000100, B1111111, B0000000, // d 4, 8, B0111000, B1010100, B1010100, B0011000, B0000000, // e 3, 8, B0000100, B1111110, B0000101, B0000000, B0000000, // f 4, 8, B10011000, B10100100, B10100100, B01111000, B0000000, // g 4, 8, B1111111, B0000100, B0000100, B1111000, B0000000, // h 3, 8, B1000100, B1111101, B1000000, B0000000, B0000000, // i 4, 8, B1000000, B10000000, B10000100, B1111101, B0000000, // j 4, 8, B1111111, B0010000, B0101000, B1000100, B0000000, // k 3, 8, B1000001, B1111111, B1000000, B0000000, B0000000, // l 5, 8, B1111100, B0000100, B1111100, B0000100, B1111000, // m 4, 8, B1111100, B0000100, B0000100, B1111000, B0000000, // n 4, 8, B0111000, B1000100, B1000100, B0111000, B0000000, // o 4, 8, B11111100, B0100100, B0100100, B0011000, B0000000, // p 4, 8, B0011000, B0100100, B0100100, B11111100, B0000000, // q 4, 8, B1111100, B0001000, B0000100, B0000100, B0000000, // r 4, 8, B1001000, B1010100, B1010100, B0100100, B0000000, // s 3, 8, B0000100, B0111111, B1000100, B0000000, B0000000, // t 4, 8, B0111100, B1000000, B1000000, B1111100, B0000000, // u 5, 8, B0011100, B0100000, B1000000, B0100000, B0011100, // v 5, 8, B0111100, B1000000, B0111100, B1000000, B0111100, // w 5, 8, B1000100, B0101000, B0010000, B0101000, B1000100, // x 4, 8, B10011100, B10100000, B10100000, B1111100, B0000000, // y 3, 8, B1100100, B1010100, B1001100, B0000000, B0000000, // z 3, 8, B0001000, B0110110, B1000001, B0000000, B0000000, // { 1, 8, B1111111, B0000000, B0000000, B0000000, B0000000, // | 3, 8, B1000001, B0110110, B0001000, B0000000, B0000000, // } 4, 8, B0001000, B0000100, B0001000, B0000100, B0000000, // ~ }; const byte data = D7; const byte cs = D8; const byte clk = D5; const byte maxInUse = 2; //使用的點陣模塊數量 MaxMatrix m(data, cs, clk, maxInUse); byte buffer[8]; String str; int speed = 100; //移動的速度，單位ms int light = 5; bool islight = false; void printChar(char); BLYNK_WRITE(V0){ str = param.asStr(); for(int i=0; i<maxInUse; ++i) str+=" "; } BLYNK_WRITE(V1){ light = param.asInt(); islight = true; } BLYNK_WRITE(V2){ speed = param.asInt(); } void setup() { Serial.begin(115200); //Blynk Blynk.begin(auth, ssid, pass); Blynk.virtualWrite(V1, light); Blynk.virtualWrite(V2, speed); //8*8 led m.init(); m.setIntensity(light); //點陣模組的亮度 } void loop() { if(Blynk.connected()){ Blynk.run(); if(islight){ m.setIntensity(light); islight = false; } int len = str.length(); for(int i=0; i<len; ++i){ printChar(str[i]); } } else{ Blynk.begin(auth, ssid, pass); Serial.println("Reconnected!"); } } void printChar(char c) { if(c<32) return; c-=32; memcpy_P(buffer, CH+7*c, 7); m.writeSprite(32, 0, buffer); m.setColumn(32+buffer[0], 0); for(int i=0; i<=buffer[0]; ++i){ delay(speed); /*往左位移，第一個參數false，代表不旋轉； 第二個參數false，代表不清空顯示；若設成true，顯示器將不呈現資料。*/ m.shiftLeft(false, false); } } 補充 若是覺得Blynk的能量太少，可自行架設 Server '><link rel="shortcut icon" href=/image/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-9L51K4B2CR"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9L51K4B2CR")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu11372239997511506855.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>小十的部落格</a></h1><h2 class=site-description>教學、資訊分享、生活記趣</h2></div></header><ol class=menu-social><li><a href=https://github.com/Adam7066 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/archives><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#簡介>簡介</a></li><li><a href=#硬體>硬體</a></li><li><a href=#下載>下載</a></li><li><a href=#教學開始>教學開始</a><ul><li><a href=#連接腳位>連接腳位</a></li><li><a href=#設定blynk>設定Blynk</a></li><li><a href=#d1r2程式碼>D1R2程式碼</a></li></ul></li><li><a href=#補充>補充</a></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/arduino-03/>Arduino-03：跑馬燈</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Apr 09, 2020</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer></div></header><section class=article-content><h1 id=簡介><a href=#%e7%b0%a1%e4%bb%8b class=header-anchor></a>簡介</h1><ul><li>這篇內容將帶領大家製作點陣跑馬燈，並且用Blynk來操控它</li></ul><h1 id=硬體><a href=#%e7%a1%ac%e9%ab%94 class=header-anchor></a>硬體</h1><ul><li>WeMos D1R2 * 1</li><li>MAX7219 8*8LED點陣模組 * 2</li></ul><h1 id=下載><a href=#%e4%b8%8b%e8%bc%89 class=header-anchor></a>下載</h1><ul><li>至手機應用商店下載Blynk的App－<a class=link href=https://blynk.io/https://blynk.io/ target=_blank rel=noopener>Blynk官網</a></li><li>下載Blynk函式庫</li><li><a class=link href=https://code.google.com/archive/p/arudino-maxmatrix-library/ target=_blank rel=noopener>maxmatrix</a>－下載並加入函式庫</li></ul><h1 id=教學開始><a href=#%e6%95%99%e5%ad%b8%e9%96%8b%e5%a7%8b class=header-anchor></a>教學開始</h1><h2 id=連接腳位><a href=#%e9%80%a3%e6%8e%a5%e8%85%b3%e4%bd%8d class=header-anchor></a>連接腳位</h2><div class=table-wrapper><table><thead><tr><th style=text-align:left>MAX7219</th><th style=text-align:left>D1R2</th></tr></thead><tbody><tr><td style=text-align:left>VCC</td><td style=text-align:left>5V</td></tr><tr><td style=text-align:left>GND</td><td style=text-align:left>GND</td></tr><tr><td style=text-align:left>DIN</td><td style=text-align:left>MOSI/D7</td></tr><tr><td style=text-align:left>CS</td><td style=text-align:left>SS/D8</td></tr><tr><td style=text-align:left>CLK</td><td style=text-align:left>SCK/D5</td></tr></tbody></table></div><ul><li>若要串聯多塊MAX7219的話，請將下一塊的DIN接至上一塊的DOUT連接腳位</li></ul><h2 id=設定blynk><a href=#%e8%a8%ad%e5%ae%9ablynk class=header-anchor></a>設定Blynk</h2><ul><li>請照下圖拉出三個物件，並設定其相關參數</li></ul><p><img src=/p/arduino-03/Arduino-03-01.jpg width=1080 height=2042 srcset="/p/arduino-03/Arduino-03-01_hu3422397455535229566.jpg 480w, /p/arduino-03/Arduino-03-01_hu10197709207383843444.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=52 data-flex-basis=126px><img src=/p/arduino-03/Arduino-03-02.jpg width=1080 height=2001 srcset="/p/arduino-03/Arduino-03-02_hu16256380234556306622.jpg 480w, /p/arduino-03/Arduino-03-02_hu12165815056976763761.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=53 data-flex-basis=129px><img src=/p/arduino-03/Arduino-03-03.jpg width=1080 height=2027 srcset="/p/arduino-03/Arduino-03-03_hu12073561837637083438.jpg 480w, /p/arduino-03/Arduino-03-03_hu3234311251542652045.jpg 1024w" loading=lazy class=gallery-image data-flex-grow=53 data-flex-basis=127px></p><h2 id=d1r2程式碼><a href=#d1r2%e7%a8%8b%e5%bc%8f%e7%a2%bc class=header-anchor></a>D1R2程式碼</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;MaxMatrix.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;avr/pgmspace.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;ESP8266WiFi.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;BlynkSimpleEsp8266.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>char</span> <span class=n>auth</span><span class=p>[]</span> <span class=o>=</span> <span class=s>&#34;Blynk auth&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>char</span> <span class=n>ssid</span><span class=p>[]</span> <span class=o>=</span> <span class=s>&#34;Wifi ssid&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>char</span> <span class=n>pass</span><span class=p>[]</span> <span class=o>=</span> <span class=s>&#34;Wifi password&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>PROGMEM</span> <span class=k>const</span> <span class=kt>unsigned</span> <span class=kt>char</span> <span class=n>CH</span><span class=p>[]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// space
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>1</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1011111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// !
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000011</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000011</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// &#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=c1>// #
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0100100</span><span class=p>,</span> <span class=n>B1101010</span><span class=p>,</span> <span class=n>B0101011</span><span class=p>,</span> <span class=n>B0010010</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// $
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100011</span><span class=p>,</span> <span class=n>B0010011</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B1100100</span><span class=p>,</span> <span class=n>B1100011</span><span class=p>,</span> <span class=c1>// %
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0110110</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1010110</span><span class=p>,</span> <span class=n>B0100000</span><span class=p>,</span> <span class=n>B1010000</span><span class=p>,</span> <span class=c1>// &amp;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>1</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000011</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// &#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0011100</span><span class=p>,</span> <span class=n>B0100010</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// (
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0100010</span><span class=p>,</span> <span class=n>B0011100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// )
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B0001110</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=c1>// *
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=c1>// +
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B10110000</span><span class=p>,</span> <span class=n>B1110000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// ,
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// -
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100000</span><span class=p>,</span> <span class=n>B1100000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// .
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100000</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B0000110</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// /
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 0
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000010</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100010</span><span class=p>,</span> <span class=n>B1010001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1000110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0100010</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B0110110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B0010010</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 4
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0100111</span><span class=p>,</span> <span class=n>B1000101</span><span class=p>,</span> <span class=n>B1000101</span><span class=p>,</span> <span class=n>B0111001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 5
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B0110000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 6
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100001</span><span class=p>,</span> <span class=n>B0010001</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B0000111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 7
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0110110</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B0110110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 8
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000110</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// 9
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B01010000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// :
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B10000000</span><span class=p>,</span> <span class=n>B01010000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// ;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0010000</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// &lt; 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// =
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=n>B0010000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// &gt;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000010</span><span class=p>,</span> <span class=n>B1011001</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B0000110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// ?
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1010101</span><span class=p>,</span> <span class=n>B1011101</span><span class=p>,</span> <span class=n>B0001110</span><span class=p>,</span> <span class=c1>// @
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111110</span><span class=p>,</span> <span class=n>B0010001</span><span class=p>,</span> <span class=n>B0010001</span><span class=p>,</span> <span class=n>B1111110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// A
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B0110110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// B
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0100010</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// C
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// D
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// E
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// F
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1111010</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// G
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// H
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// I
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0110000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0111111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// J
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B1100011</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// K
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// L
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000010</span><span class=p>,</span> <span class=n>B0001100</span><span class=p>,</span> <span class=n>B0000010</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=c1>// M
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0010000</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=c1>// N
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// O
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B0000110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// P
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111110</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B10111110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// Q
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B0001001</span><span class=p>,</span> <span class=n>B1110110</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// R
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000110</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B0110010</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// S
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=c1>// T
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111111</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0111111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// U
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0001111</span><span class=p>,</span> <span class=n>B0110000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0110000</span><span class=p>,</span> <span class=n>B0001111</span><span class=p>,</span> <span class=c1>// V
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111111</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0111000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0111111</span><span class=p>,</span> <span class=c1>// W
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100011</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0010100</span><span class=p>,</span> <span class=n>B1100011</span><span class=p>,</span> <span class=c1>// X
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000111</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B1110000</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0000111</span><span class=p>,</span> <span class=c1>// Y
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100001</span><span class=p>,</span> <span class=n>B1010001</span><span class=p>,</span> <span class=n>B1001001</span><span class=p>,</span> <span class=n>B1000111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// Z
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// [
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B0000110</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B1100000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// backslash
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// ]
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000010</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B0000010</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// hat
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// _
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000001</span><span class=p>,</span> <span class=n>B0000010</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// `
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0100000</span><span class=p>,</span> <span class=n>B1010100</span><span class=p>,</span> <span class=n>B1010100</span><span class=p>,</span> <span class=n>B1111000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// a
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0111000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// b
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111000</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// c
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111000</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// d
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111000</span><span class=p>,</span> <span class=n>B1010100</span><span class=p>,</span> <span class=n>B1010100</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// e
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B1111110</span><span class=p>,</span> <span class=n>B0000101</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// f
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B10011000</span><span class=p>,</span> <span class=n>B10100100</span><span class=p>,</span> <span class=n>B10100100</span><span class=p>,</span> <span class=n>B01111000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// g
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B1111000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// h
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B1111101</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// i
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B10000000</span><span class=p>,</span> <span class=n>B10000100</span><span class=p>,</span> <span class=n>B1111101</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// j
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0010000</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// k
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// l
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111100</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B1111100</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B1111000</span><span class=p>,</span> <span class=c1>// m
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111100</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B1111000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// n
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111000</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0111000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// o
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B11111100</span><span class=p>,</span> <span class=n>B0100100</span><span class=p>,</span> <span class=n>B0100100</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// p
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0011000</span><span class=p>,</span> <span class=n>B0100100</span><span class=p>,</span> <span class=n>B0100100</span><span class=p>,</span> <span class=n>B11111100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// q
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111100</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// r
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1001000</span><span class=p>,</span> <span class=n>B1010100</span><span class=p>,</span> <span class=n>B1010100</span><span class=p>,</span> <span class=n>B0100100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// s
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0111111</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// t
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111100</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B1111100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// u
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0011100</span><span class=p>,</span> <span class=n>B0100000</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0100000</span><span class=p>,</span> <span class=n>B0011100</span><span class=p>,</span> <span class=c1>// v
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0111100</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0111100</span><span class=p>,</span> <span class=n>B1000000</span><span class=p>,</span> <span class=n>B0111100</span><span class=p>,</span> <span class=c1>// w
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=n>B0010000</span><span class=p>,</span> <span class=n>B0101000</span><span class=p>,</span> <span class=n>B1000100</span><span class=p>,</span> <span class=c1>// x
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B10011100</span><span class=p>,</span> <span class=n>B10100000</span><span class=p>,</span> <span class=n>B10100000</span><span class=p>,</span> <span class=n>B1111100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// y
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1100100</span><span class=p>,</span> <span class=n>B1010100</span><span class=p>,</span> <span class=n>B1001100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// z
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0110110</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// {
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>1</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1111111</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// |
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>3</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B1000001</span><span class=p>,</span> <span class=n>B0110110</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// }
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0001000</span><span class=p>,</span> <span class=n>B0000100</span><span class=p>,</span> <span class=n>B0000000</span><span class=p>,</span> <span class=c1>// ~
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>byte</span> <span class=n>data</span> <span class=o>=</span> <span class=n>D7</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>byte</span> <span class=n>cs</span> <span class=o>=</span> <span class=n>D8</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>byte</span> <span class=n>clk</span> <span class=o>=</span> <span class=n>D5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>byte</span> <span class=n>maxInUse</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=c1>//使用的點陣模塊數量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>MaxMatrix</span> <span class=nf>m</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>cs</span><span class=p>,</span> <span class=n>clk</span><span class=p>,</span> <span class=n>maxInUse</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>byte</span> <span class=n>buffer</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>String</span> <span class=n>str</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>speed</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span> <span class=c1>//移動的速度，單位ms
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>light</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=n>islight</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>printChar</span><span class=p>(</span><span class=kt>char</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>BLYNK_WRITE</span><span class=p>(</span><span class=n>V0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>str</span> <span class=o>=</span> <span class=n>param</span><span class=p>.</span><span class=n>asStr</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>maxInUse</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>str</span><span class=o>+=</span><span class=s>&#34;  &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>BLYNK_WRITE</span><span class=p>(</span><span class=n>V1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>light</span> <span class=o>=</span> <span class=n>param</span><span class=p>.</span><span class=n>asInt</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>islight</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>BLYNK_WRITE</span><span class=p>(</span><span class=n>V2</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>speed</span> <span class=o>=</span> <span class=n>param</span><span class=p>.</span><span class=n>asInt</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//Blynk
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Blynk</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>auth</span><span class=p>,</span> <span class=n>ssid</span><span class=p>,</span> <span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Blynk</span><span class=p>.</span><span class=n>virtualWrite</span><span class=p>(</span><span class=n>V1</span><span class=p>,</span> <span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Blynk</span><span class=p>.</span><span class=n>virtualWrite</span><span class=p>(</span><span class=n>V2</span><span class=p>,</span> <span class=n>speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//8*8 led
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>m</span><span class=p>.</span><span class=n>init</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>m</span><span class=p>.</span><span class=n>setIntensity</span><span class=p>(</span><span class=n>light</span><span class=p>);</span> <span class=c1>//點陣模組的亮度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>Blynk</span><span class=p>.</span><span class=n>connected</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>        <span class=n>Blynk</span><span class=p>.</span><span class=n>run</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>islight</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>m</span><span class=p>.</span><span class=n>setIntensity</span><span class=p>(</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>islight</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>            
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>len</span> <span class=o>=</span> <span class=n>str</span><span class=p>.</span><span class=n>length</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>len</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>printChar</span><span class=p>(</span><span class=n>str</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Blynk</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>auth</span><span class=p>,</span> <span class=n>ssid</span><span class=p>,</span> <span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Reconnected!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>printChar</span><span class=p>(</span><span class=kt>char</span> <span class=n>c</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>c</span><span class=o>&lt;</span><span class=mi>32</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span><span class=o>-=</span><span class=mi>32</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>memcpy_P</span><span class=p>(</span><span class=n>buffer</span><span class=p>,</span> <span class=n>CH</span><span class=o>+</span><span class=mi>7</span><span class=o>*</span><span class=n>c</span><span class=p>,</span> <span class=mi>7</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>m</span><span class=p>.</span><span class=n>writeSprite</span><span class=p>(</span><span class=mi>32</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>buffer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>m</span><span class=p>.</span><span class=n>setColumn</span><span class=p>(</span><span class=mi>32</span><span class=o>+</span><span class=n>buffer</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;=</span><span class=n>buffer</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span> <span class=o>++</span><span class=n>i</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>delay</span><span class=p>(</span><span class=n>speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=cm>/*往左位移，第一個參數false，代表不旋轉；
</span></span></span><span class=line><span class=cl><span class=cm>        第二個參數false，代表不清空顯示；若設成true，顯示器將不呈現資料。*/</span>
</span></span><span class=line><span class=cl>        <span class=n>m</span><span class=p>.</span><span class=n>shiftLeft</span><span class=p>(</span><span class=nb>false</span><span class=p>,</span> <span class=nb>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=補充><a href=#%e8%a3%9c%e5%85%85 class=header-anchor></a>補充</h1><ul><li>若是覺得Blynk的能量太少，可自行架設 <a class=link href=https://github.com/blynkkk/blynk-server target=_blank rel=noopener>Server</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/arduino/>Arduino</a></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 小十的部落格</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>